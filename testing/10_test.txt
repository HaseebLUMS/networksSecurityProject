Kernel 3.10.0-957.12.1.el7.x86_64 on an x86_64
hm login:

============================https://support.symantec.com/us/en/article.howto128282.html===============================

Article Details
SUPPORT
Sign In / Register
My Account
Log out
United States/English
Security Advisories
Getting Started
Documentation
MySymantec
Support Resources
Contact Us
Article Subscriptions
Home
Article Details
HOWTO128282
Supported platforms and kernels for the Cloud Workload Protection agent
Last Updated June 25, 2019
Description
The following table lists all the platforms and kernels where you can install the Cloud Workload Protection agent.
Notes:
To enable TLS 1.2 support in Windows 2008 R2, download and apply the fix MicrosoftEasyFix51044.msi that is available on Microsoft support. No restart is required after you apply the fix. You must have Windows 2008 R2 SP1 installed.
Only 64-bit kernels of the Linux platforms are supported. Cloud Workload Protection does not support the 32-bit kernels.
The paravirtual (PV) systems on AWS are not supported. For more information about PV systems, see Linux AMI Virtualization Types.
Amazon Linux: Though the older versions of the Amazon Linux AMI and its packages are available for launch in Amazon EC2, we recommend that you upgrade to the latest version of the AMI as suggested by AWS. For more information, please refer to the Amazon Linux AMI 2017.09 Release Notes.
Table: Windows
Table: Red Hat Enterprise Linux 7
Table: Red Hat Enterprise Linux 6
Table: CentOS 7
Table: CentOS 6
Table: Oracle Enterprise Linux
Table: Oracle Linux 6
Table: Oracle Linux 7
Table: Amazon Linux/Amazon 2
Table: Ubuntu 16.04 LTS
Table: Ubuntu 14.04 LTS
Table: Ubuntu 18.04 LTS
Table: Windows
Cloud Platform
Versions
Kernel version / OS Patch leve
AWS, Azure, GCP
2016 Standard Edition
2012 R2
2008 R2
NA
Table: Red Hat Enterprise Linux 7
Cloud Platform
Versions
Kernel version / OS Patch level - AMI ID (AWS)
AWS AMI ID
AWS, Azure, GCP
7.27.37.4
3.10.0-327.36.3.*el7.x86_643.10.0-514.*el7.x86_64
AWS, Azure, GCP
7.27.37.4
3.10.0-693.*el7.x86_64
ami-c998b6b2
7.57.6
3.10.0-862.*el73.10.0-957.*el7.x86_64
Table: Red Hat Enterprise Linux 6
Cloud Platform
Versions
Kernel version / OS Patch level
AWS AMI ID
AWS, Azure, GCP
6.76.9
2.6.32-573.22.1.el6.x86_642.6.32-696.*el62.6.32-573.*el6
AWS, Azure, GCP
6.76.9
2.6.32-696.1.1.el6.x86_64
ami-0b5f073b
6.86.10
2.6.32-754.*el6 (Retpoline)2.6.32-642.*el6
Table: CentOS 6
Cloud Platform
Versions
Kernel version / OS Patch level
AWS AMI ID
AWS, Azure, GCP
6.76.9
2.6.32-573.22.1.el6.x86_642.6.32-696.*el62.6.32-573.*el6
AWS, Azure, GCP
6.76.9
2.6.32-696.1.1.el6.x86_64
ami-0b5f073b
6.86.10
2.6.32-754.*el6 (Retpoline)2.6.32-642.*el62.6.32-504.*el62.6.32-431.*el62.6.32-358.*el6
Table: CentOS 7
Cloud Platform
Versions
Kernel version / OS Patch level
AWS AMI ID
AWS, Azure, GCP
7.27.37.4
3.10.0-327.36.3.el7.x86_643.10.0-514.el7.x86_64
AWS, Azure, GCP
7.27.37.4
3.10.0-693.el7.x86_64
ami-c998b6b2
7.5
3.10.0-862.*el73.10.0-229.*el73.10.0-123.*el73.10.0-957.el7.x86_64
Table: Oracle Enterprise Linux
Cloud Platform
Versions
Kernel version / OS Patch level
AWS AMI ID
AWS, Azure, GCP
6.67.3
3.8.13-68.3.4.el6uek 2.6.39-400.250.7.el6uek 4.1.12-61.1.18.el7uek -
ami-fb124cedami-fb124cedami-95154b83
Azure, Azure, GCP
7.27.3
4.1.12-61.1.14.el7uek.x86_644.1.12-61.1.28.el7uek.x86_64
Table: Oracle Linux 6
Cloud Platform
Versions
Kernel version / OS Patch level
6.76.86.96.10
4.1.12-124.*el7uek4.1.12-112.*el6uek4.1.12-103.10.1.el6uek4.1.12-94.*el6uek4.1.12-61.*el6uek4.1.12-37.*el6uek3.8.13-118.*el6uek3.8.13-[69]8.*el6uek3.8.13-55.*el6uek3.8.13-44.*el6uek2.6.39-400.*el6uek2.6.39-300.*el6uek 2.6.32-754.10.1.el6.x86_64
Table: Oracle Linux 7
Cloud Platform
Versions
Kernel version / OS Patch level
AWS, Azure, GCP
7.27.37.47.5
4.1.12-112.*el7uek4.1.12-103.10.1.el7uek or newer4.1.12-94.*el7uek4.1.12-61.*el7uek4.1.12-37.*el7uek4.1.12-32.*el7uek3.10.0-862.3.3.el7.x86_643.8.13-118.*el7uek3.8.13-98.*el7uek3.8.13-68.*el7uek3.8.13-55.*el7uek4.14.35-1818.3.3.el7uek.x86_644.14.35-1818.2.1.el7uek
4.14.35-1818.1.6.el7uek 4.14.35-1818.0.14.el7uek
4.14.35-1818.0.9.el7uek 3.10.0-957.5.1.el7.x86_64
OCI
7.6
4.14.35-1818.4.7.el7uek.x86_644.14.35-1818.5.4.el7uek.x86_64 4.14.35-1844.1.3.el7uek.x86_64
Table: Amazon Linux/Amazon 2
Cloud Platform
Platform Version
Kernel version - AMI ID
AWS AMI ID
AWS
2017.09.01
4.9.85-37.55.amzn1.x86_64
AWS
2017.09.01
4.9.70-25.242.amzn1.x86_64 4.9.75-25.55.amzn1.x86_644.9.77-31.58.amzn1.x86_644.9.81-35.56.amzn1.x86_644.9.91-40.57.amzn1.x86_64
ami-5583d42f ami-cb9ec1b1 ami-97785bed ami-1853ac65ami-428aa838
AWS
2017.12
4.9.76-3.78.amzn1.x86_644.9.85-38.58.amzn1.x86_64
AWS
2018.03
4.14.33-51.37.amzn1.x86_64 4.14.59-64.43.amzn1.x86_64 4.14.62-65.117.amzn1.x86_64 4.14.67-66.56.amzn1.x86_64 - ami-04681a1dbd79675a54.14.70-67.55.amzn1.x86_64 4.14.72-68.55.amzn1.x86_64 4.14.77-70.59.amzn1.x86_64
ami-467ca739ami-cfe4b2b0ami-0ff8a91507f77f867ami-0ff8a91507f77f867ami-0ff8a91507f77f867
ami-0ff8a91507f77f867
AWS
2018.03
4.14.47-56.37.amzn1.x86_64 4.14.47-56.37.amzn1.x86_64 4.14.26-46.*.amzn1 4.14.33-59.amzn2.x86_64 4.14.42-52.*.amzn1.x86_64 4.14.42-61.amzn2.x86_64 4.14.47-56.*.amzn1.x86_64 4.14.47-63.amzn2.x86_64 4.14.47-64.amzn2.x86_64 4.14.51-60.*.amzn1.x86_64 4.14.51-66.amzn2.x86_64 4.14.55-62.*.amzn1.x86_64 4.14.55-68.amzn2.x86_64 4.14.77-69 .amzn1.x86_64 4.14.77-80.amzn2.x86_64 4.9.76-3.78.amzn1.x86_64 4.15.0-102[123] 4.15.0-101[23489] 4.13.0-101[468] 4.13.0-100[5679] 4.11.0-101[123456] 4.15.0-1005 4.14.0-1003 4.13.0-1003 4.4.0-106[0123567] 4.4.0-105[02457] 4.4.0-104[987431] 4.4.0-103[9875210] 4.4.0-102[68] 4.4.0-102[02] 4.4.0-101[876] 4.4.0-101[1-3] 4.4.0-9[632] 4.11.0-1[43] 4.10.0-4[20] 4.10.0-3[875320] 4.10.0-2[8764210] 4.10.0-1[94] 4.8.0-5[3468] 4.8.0-5[12] 4.8.0-49 4.8.0-4[1-6] 4.8.0-3[96420] 4.8.0-28 4.4.0-13[01345] 4.4.0-12[12478]
4.4.0-11[269] 4.4.0-10[98431] 4.4.0-9[123678] 4.4.0-8[79] 4.4.0-8[13] 4.4.0-7[5789] 4.4.0-7[0-2]
4.4.0-6[2-7] 4.4.0-102[2345789] 4.4.0-101[0124679] 4.4.0-100[23569] 4.4.0-13[01345] 4.4.0-12[1478] 4.4.0-11[1269] 4.4.0-10[13489]4.4.0-9[123678] 4.4.0-8[79]
4.4.0-8[13] 4.4.0-7[589] 4.4.0-7[0-2] 4.4.0-6[2-7] 4.4.0-5[79] 4.4.0-5[13] 4.4.0-47 4.4.0-4[25] 4.4.0-3[68] 4.4.0-3[14] 4.4.0-2[1248] 4.2.0-4[12] 4.2.0-3[04568] 4.2.0-2[12357] 4.2.0-1[89] 3.19.0-80 3.19.0-7[1345789] 3.19.0-6[145689] 3.19.0-5[1689] 3.19.0-4[79] 3.19.0-4[1-3] 3.19.0-3[79] 3.19.0-3[0-3] 3.19.0-28 3.19.0-2[0-6] 3.19.0-18 3.16.0-7[01367] 3.16.0-6[0279] 3.16.0-59 3.16.0-5[5-7] 3.16.0-5[1-3] 3.16.0-50 3.16.0-4[89] 3.16.0-4[0-6] 3.16.0-3[4-9] 3.16.0-3[013] 3.16.0-2[5-9] 3.13.0-15[13678] 3.13.0-14[1234579] 3.13.0-13[23579] 3.13.0-12[5689] 3.13.0-12[13] 3.13.0-11[0-9] 3.13.0-10[6-9] 3.13.0-10[35] 3.13.0-10[01] 3.13.0-9[123568] 3.13.0-8[5-8] 3.13.0-83 3.13.0-7[0134679] 3.13.0-6[01235678] 3.13.0-5[1-9] 3.13.0-4[986] 3.13.0-4[1-5] 3.13.0-40 3.13.0-3[2345679] 3.13.0-2[974] 4.14.97-74.72.amzn1.x86_64 4.14.101-75.76.amzn1.x86_64 4.14.101-91.76.amzn2.x86_644.14.104-95.84.amzn2.x86_64 4.14.101-75.76.amzn1.x86_64 4.14.104-78.84.amzn1.x86_64 4.14.106-97.85.amzn2.x86_64 4.14.106-79.86.amzn1.x86_64 4.14.109-80.92.amzn1.x86_64 4.14.109-99.92.amzn2.x86_64 4.14.114-103.97.amzn2.x86_64 4.14.114-82.97.amzn1.x86_64
Table: Ubuntu 16.04 LTS
Cloud Platform
Version
Kernel version / OS Patch level
AWS-kernel
4.44.84.104.11
4.4 kernels4.4.0-13[01345]4.4.0-12[12478]4.4.0-11[269]4.4.0-10[98431]4.4.0-9[123678]4.4.0-8[79]4.4.0-8[13]4.4.0-7[5789]4.4.0-7[0-2]4.4.0-6[2-7]4.4.0-474.4.0-2[1248] 4.4.0-3[1468]
4.4.0-5[1379]
4.4.0-4[2357]4.4.0-10754.4.0-106[0123567]4.4.0-105[02457]4.4.0-104[987431]4.4.0-103[9875210]4.4.0-102[68]4.4.0-102[02]4.4.0-101[876]4.4.0-101[1-3]4.4.0-9[632]4.4.0-10734.4.0-1074 4.4.0-10724.15.0-1032 4.11 kernels4.11.0-1[43]4.8 kernels4.8.0-5[3468]4.8.0-5[12]4.8.0-494.8.0-4[1-6]4.8.0-3[96420]4.8.0-284.10 kernels4.10.0-4[20]4.10.0-3[875320]4.10.0-2[8764210]4.10.0-1[94]
AWS-kernel
4.44.84.104.11
4.4.0-10224.4.0-10314.4.0-10284.4.0-1038
Azure-kernel
4.44.154.134.11
4.11.0-10114.15.0-102[123]4.15.0-101[23489]4.13.0-101[468]Azure IoT Edge kernels4.15.0-10054.14.0-10034.13.0-10034.13.0-100[5679]4.11.0-101[123456]4.15 kernels4.15.0-10354.15.0-10364.15.0-10254.15.0-10304.15.0-1037 4.15.0-10394.15.0-1040 4.15.0-1041 4.15.0-1042
Generic
4.4.0-139 4.4.0-924.4.0-474.4.0-224.4.0-1404.4.0-141
Table: Ubuntu 14.04 LTS
Cloud Platform
Version
Kernel version / OS Patch level
AWS-kernel
3.133.163.194.24.44.15
3.13.0-125-generic - ami-841f46ff3.13.0-133-generic - ami-841f46ff3.13.0-135-generic - ami-7dce65074.4 kernels4.4.0-102[2345789]4.4.0-101[0124679]4.4.0-100[23569] 4.4.0-1036-aws 4.4.0-1037-aws 4.4.0-13[01345]4.4.0-12[1478]4.4.0-11[1269]4.4.0-10[13489]4.4.0-9[123678]4.4.0-8[79]4.4.0-8[13]4.4.0-7[589]4.4.0-7[0-2]4.4.0-6[2-7]4.4.0-5[79]4.4.0-5[13]4.4.0-474.4.0-4[25]4.4.0-3[68]4.4.0-3[14]4.4.0-2[1248]4.4.0-1038-aws4.2 kernels4.2.0-4[12]4.2.0-3[04568]4.2.0-2[12357]4.2.0-1[89]3.19 kernels3.19.0-803.19.0-7[1345789]3.19.0-6[145689]3.19.0-5[1689]3.19.0-4[79]3.19.0-4[1-3]3.19.0-3[79]3.19.0-3[0-3]3.19.0-283.19.0-2[0-6]3.19.0-183.16 kernels3.16.0-7[01367]3.16.0-6[0279]3.16.0-593.16.0-5[5-7]3.16.0-5[1-3]3.16.0-503.16.0-4[89]3.16.0-4[0-6]3.16.0-3[4-9]3.16.0-3[013]3.16.0-2[5-9]3.13 kernels3.13.0-15[13678]3.13.0-14[1234579]3.13.0-13[23579]3.13.0-12[5689]3.13.0-12[13]3.13.0-11[0-9]3.13.0-10[6-9]3.13.0-10[35]3.13.0-10[01]3.13.0-9[123568]3.13.0-8[5-8]3.13.0-833.13.0-7[0134679]3.13.0-6[01235678]3.13.0-5[1-9]3.13.0-4[986]3.13.0-4[1-5]3.13.0-403.13.0-3[2345679]3.13.0-2[974]
Azure-kernel
4.154.4
4.4.0-974.15.0-1035 4.15.0-10364.15.0-1037 4.15.0-10394.15.0-1040
4.15.0-1041 4.15.0-1042
Generic
4.4.0-1393.13.0-162-generic 3.13.0-163-generic 3.13.0-164-generic 3.13.0-161-generic3.13.0-165-generic 4.4.0-93-generic3.13.0-32-generic4.4.0-142-generic4.4.0-140-generic 4.4.0-141-generic
Table: Ubuntu 18.04 LTS
Cloud Platform
Version
Kernel version / OS Patch level - AMI ID (AWS)
AWS-kernel
18.4.15
Ubuntu 18 4.15 kernels (generic)4.15.0-32-generic 4.15.0-33-generic 4.15.0-34-generic 4.15.0-36-generic 4.15.0-38-generic 4.15.0-39-generic 4.15.0-42-generic 4.15.0-43-generic 4.15.0-20 4.15.0-22 4.15.0-23 4.15.0-24 4.15.0-29 4.15.0-30 4.15.0-32 4.15.0-33 4.15.0-34 4.15.0-36 4.15.0-38 4.15.0-39 4.15.0-42 4.15.0-43 Ubuntu 18 4.15 aws kernels 4.15.0-1029 4.15.0-10314.15.0-1007 4.15.0-10094.15.0-1010 4.15.0-1011 4.15.0-10164.15.0-1017 4.15.0-10194.15.0-10204.15.0-10214.15.0-10234.15.0-1025 4.15.0-1027 4.15.0-10294.15.0-10314.15.0-10324.4.0-1075
Azure-kernel
18.4.15
4.15.0-10354.15.0-10364.18.0-10064.18.0-10074.15.0-1021 4.15.0-1009 4.15.0-1012 4.15.0-1013 4.15.0-10144.15.0-10184.15.0-1019 4.15.0-1021 4.15.0-1022 4.15.0-1023 4.15.0-1025 4.15.0-1028 4.15.0-10304.15.0-1031 4.15.0-1032 4.15.0-1035 4.15.0-10364.15.0-1037
GCP
18.4.15
4.15.0-1021 4.15.0-10234.15.0-10244.15.0-1025 4.15.0-1026
Legacy ID
v126843796_v111037498
Subscribe To This Article
Subscribing will provide email updates when this Article is updated. Login is required to Subscribe
Subscribe
Unsubscribe from this article
Related Products
Cloud Workload Protection
1.0
Was this Article Helpful?
Yes
No
Thanks for your feedback. Let us know if you have additional comments below. (requires login)
Submit
Subscribed to the Article.
Unable to subscribe
Thanks for your additional feedback !!!
Symantec.com
Buy Products
Legal
Privacy
Renewals
Support
Current Issues
Documentation
Getting Started
MySymantec
Products A-Z
Security Advisories
Subscriptions
Support Resources
Symantec Status
Contact Support
Contact Us
Chat
Symantec Community
MySymantec
Norton & Lifelock
Norton Support
© 1995-2019 Symantec Corporation
Enterprise Support Virtual Agent
Rate Me :
Tell us more:
Submit
Not Now
Welcome! My name is Sami, the Enterprise Support Virtual Agent answering technical support questions.
×
Start Over
This will clear the history and restart the chat.
Cancel
Confirm

















Kernel 3.10.0-957.12.1.el7.x86_64 on an x86_64
hm login:

============================https://support.symantec.com/us/en/article.howto128282.html===============================

 english security advisories getting started documentation mysymantec support resources contact us article subscriptions home article details howto128282 supported platforms z security advisories subscriptions support resources symantec status contact support contact us chat symantec community mysymantec norton com buy products legal privacy renewals support current issues documentation getting started mysymantec products gcp 2016 standard edition 2012 r2 2008 r2 na table red hat enterprise linux 7 cloud platform versions kernel version red hat enterprise linux 6 cloud platform versions kernel version enterprise support virtual agent answering technical support questions 2019 symantec corporation enterprise support virtual agent rate oracle enterprise linux cloud platform versions kernel version oracle linux 7 cloud platform versions kernel version oracle linux 6 cloud platform versions kernel version amazon 2 cloud platform platform version kernel version cloud workload protection agent last updated june 25 article related products cloud workload protection 1 04 lts cloud platform version kernel version centos 7 cloud platform versions kernel version centos 6 cloud platform versions kernel version windows cloud platform versions kernel version red hat enterprise linux 7 table red hat enterprise linux 6 table lifelock norton support © 1995 article details support sign os patch level aws ami id aws ami id aws ami id aws 2017 windows 2008 r2 sp1 installed cloud workload protection agent see linux ami virtualization types 1026 legacy id v126843796_v111037498 subscribe oracle enterprise linux table oracle linux 7 table oracle linux 6 table cloud workload protection os patch level 6 os patch level aws amazon linux ami 2017 windows 2008 r2 aws ami id aws os patch leve aws let us know 04 lts table os patch level centos 7 table linux platforms amazon linux ami centos 6 table azure iot edge kernels4 tell us 2 support 428aa838 aws 2017 symantec microsoft support 15 aws kernels 4 x86_64 aws 2017 supported 43 ubuntu 18 4 amazon 2 table 15 ubuntu 18 4 x86_64 oci 7 article subscribing article helpful enable tls 1 following table lists subscribe subscribe unsubscribe 0ff8a91507f77f867 aws 2018 latest version older versions amazon linux x86_64 aws 2018 kernel 18 provide email updates chat 98 .* el7uek3 504 .* el62 431 .* el62 118 .* el7uek3 118 .* el6uek3 ami id gcp 7 1037 gcp 18 support kernel 4 124 .* el7uek4 kernel 3 gcp 6 37 .* el6uek3 229 .* el73 8 .* el6uek3 696 .* el62 68 .* el7uek3 642 .* el62 55 .* el6uek3 44 .* el6uek2 400 .* el6uek2 32 .* el7uek3 94 .* el7uek4 61 .* el7uek4 37 .* el7uek4 94 .* el6uek4 61 .* el6uek4 article windows table additional feedback !!! 112 .* el6uek4 862 .* el73 platforms 1042 generic 4 3 .* el7 2019 description 13 -[ 69 09 release notes *. amzn1 4 c998b6b2 7 6 4 6 3 0b5f073b 6 x86_64 aws 0ff8a91507f77f867 ami aws 4 x86_64 ami x86_64 table amazon ec2 el6 aws cb9ec1b1 ami 97785bed ami 5583d42f ami generic table ubuntu 18 el6 table 2 kernels4 141 table subscribe thanks el6uek 2 15 kernels4 15 kernels 7 18 3 15 4 updated additional comments 25 10 2 *. amzn1 ubuntu 16 15 3 4 kernels4 x86_64 4 ubuntu 14 8 kernels4 bit kernels 9 2 6 4 4 95154b83 azure 1075 azure generic 4 el6uek 4 49 4 4 3 32 4 30 4 3 4 29 4 23 4 139 4 1074 4 1041 4 1040 4 1037 4 1035 4 1032 4 1031 4 1029 4 1028 4 1027 4 1025 4 1023 4 1022 4 1021 4 1019 4 1017 4 1013 4 1012 4 1011 4 1010 4 1009 4 1007 4 1005 4 1003 4 03 4 10 kernels4 × start united states please refer generic 3 cancel confirm account log 83 3 50 3 3 3 13 kernels3 11 kernels4 aws 10 4 el7uek 4 5 4 28 4 11 4 1038 azure el7uek 3 5 3 28 3 16 kernels3 1 47 4 42 4 39 4 38 4 36 4 34 4 33 4 24 4 22 4 20 4 12 4 01 4 ami table submit subscribed requires login fix microsofteasyfix51044 80 3 59 3 40 3 19 kernels3 pv systems 2 el7uek4 18 el6uek4 43 15 el73 94 61 37 x86_64 kernels azure 4 notes generic feedback el7 amzn1 862 8 696 69 68 642 55 44 400 32 3 13 112 1037 09 10 el7uek el6 5 28 16 11 thanks systems submit pv login fix 9 80 59 47 42 40 39 38 36 34 33 24 22 20 19 141 14 12 1038 01 yes x86_644 x86_643 x86_642 welcome upgrade unable though suggested sami retpoline restart required register recommend paravirtual packages newer4 name must msi launch install information history generic4 generic3 fb124cedami download clear cfe4b2b0ami aws4 available apply amzn2 99 9875210 987431 986 98431 974 97 96420 96 957 95 93 924 92 91 89 8764210 876 875320 86 85 841f46ff3 84 833 82 81 803 7dce65074 79 78 77 76 754 75 74 72 70 693 67 66 65 64 632 63 62 60 593 589 58 5789 573 57 5689 5679 56 52 514 51 503 494 474 468 467ca739ami 46 403 358 35 3468 327 31 300 284 283 27 269 26 250 242 23579 2357 23569 23489 2345789 2345679 224 194 1853ac65ami 1844 183 1818 1689 165 164 163 162 161 154 1478 1468 145689 142 1404 140 1393 1379 13678 135 13489 1345789 134 133 1269 125 1248 12478 123678 12357 123568 1234579 123456 123 117 114 109 10754 10734 10724 106 105 104 10394 10364 1036 10354 10324 10314 10304 103 10294 10284 10254 10244 10234 10224 10214 10204 102 10194 10184 10164 10144 10114 101 10094 10074 10064 10054 10034 100 0ff8a91507f77f867ami 04681a1dbd79675a54 04568 0279 02457 02 01367 0134679 01345 013 0124679 01235678 0123567 0

















{
  "vendors": [
    "oracle",
    "symantec",
    "microsoft"
  ],
  "device_types": [],
  "products": [
    "el7.x86",
    "x86",
    "howto128282.html",
    "howto128282",
    "r2",
    "sp1",
    "v126843796",
    "v111037498",
    "kernels4",
    "aa838",
    "ff8a91507f77f867",
    "el7uek3",
    "el62",
    "el6uek3",
    "el7uek4",
    "el73",
    "el6uek2",
    "el6uek4",
    "el7",
    "amzn1",
    "c998b6b2",
    "b5f073b",
    "ec2",
    "el6",
    "cb9ec1b1",
    "d42f",
    "el6uek",
    "b83",
    "kernels3",
    "el7uek",
    "microsofteasyfix51044",
    "x86",
    "x86",
    "x86",
    "newer4",
    "generic4",
    "generic3",
    "fb124cedami",
    "cfe4b2b0ami",
    "aws4",
    "amzn2",
    "f46ff3",
    "dce65074",
    "ca739ami",
    "ac65ami",
    "ff8a91507f77f867ami",
    "a1dbd79675a54"
  ]
}



































Kernel 3.10.0-957.12.1.el7.x86_64 on an x86_64
hm login:

============================https://bugzilla.redhat.com/show_bug.cgi?id=1323842===============================

1323842 – grubby-8.28-17.el7.x86_64 - --default-kernel cannot be retrieved even if correctly set on systems with different root uuids
Login
[x]
Log in using an account from:
Fedora Account System
Red Hat Associate
Red Hat Customer
Or login using a Red Hat Bugzilla account
Forgot Password
Login:
Hide Forgot
Red Hat Bugzilla – Bug 1323842
[?]
New
Simple Search
Advanced Search
My Links
Browse
Requests
Reports | Product Dashboard
Help
Page Help!
Bug Writing Guidelines
What's new
Browser Support Policy
5.0.4.rh25 Release notes
FAQ
Guides index
User guide
API guide
Contact
Legal
This site requires JavaScript to be enabled to function correctly, please enable it.
Bug 1323842
- grubby-8.28-17.el7.x86_64 - --default-kernel cannot be retrieved even if correctly set on systems with different root uuids
[NEEDINFO]
Summary:
grubby-8.28-17.el7.x86_64 - --default-kernel cannot be retrieved even if corr...
Status:
VERIFIED
Alias:
None
Product:
Red Hat Enterprise Linux 7
Classification:
Red Hat
Component:
grubby
Sub Component:
---
Version:
7.4
Hardware:
Unspecified
OS:
Unspecified
Priority:
urgent
Severity:
urgent
Target Milestone:
rc
Target Release:
---
Assignee:
Peter Jones
QA Contact:
Release Test Team
Docs Contact:
URL:
Whiteboard:
Keywords:
OtherQA, Reopened, ZStream
Depends On:
1366785
Blocks:
ovirt-node-ng-43-el77-platform 1690324 1366549
TreeView+
depends on /
blocked
Reported:
2016-04-04 22:33 UTC by Douglas Schilling Landgraf
Modified:
2019-06-26 13:03 UTC
(History)
CC List:
9
users
(show)
cshao
dougsland
fmartine
huzhao
jstodola
pjones
rbarry
weiwang
ycui
Fixed In Version:
Doc Type:
If docs needed, set a value
Bug Fix
Enhancement
Rebase: Bug Fixes and Enhancements
Rebase: Bug Fixes Only
Rebase: Enhancements Only
Known Issue
Release Note
Technology Preview
Deprecated Functionality
Removed functionality
No Doc Update
Doc Text:
(edit)
Clone Of:
Clones:
1690324
(view as bug list)
Environment:
(edit)
Last Closed:
2017-06-19 14:24:13 UTC
Flags:
jstodola:
needinfo?
(rbarry)
Attachments
(Terms of Use)
output strace
(103.95 KB,
text/plain)
2016-04-04 22:34 UTC,
Douglas Schilling Landgraf
no flags
Details
Add an attachment
(proposed patch, testcase, etc.)
Description
Douglas Schilling Landgraf
2016-04-04 22:33:25 UTC
Description of problem:
# grubby --set-default=/boot/ovirt-node-ng-4.0.0-0.3.master.20160330132038.el7+1/vmlinuz-3.10.0-327.13.1.el7.x86_64
# echo $?
0
# grubby --default-kernel
#
<if I reboot doesn't catch the new kernel either, only manually selecting>
# grubby --debug --set-default=/boot/ovirt-node-ng-4.0.0-0.3.master.20160330132038.el7+1/vmlinuz-3.10.0-327.13.1.el7.x86_64
[root@localhost ~]# echo $?
0
# file /boot/ovirt-node-ng-4.0.0-0.3.master.20160330132038.el7+1/vmlinuz-3.10.0-327.13.1.el7.x86_64
/boot/ovirt-node-ng-4.0.0-0.3.master.20160330132038.el7+1/vmlinuz-3.10.0-327.13.1.el7.x86_64: Linux kernel x86 boot executable bzImage, version 3.10.0-327.13.1.el7.x86_64 (builder@kbuilder.dev.centos.org) #1, RO-rootFS, swap_dev 0x4, Normal VGA
# ls -la /etc/grub2.cfg /boot/grub2/grub.cfg
-rw-r--r--. 1 root root 5411 Apr
1 20:52 /boot/grub2/grub.cfg
lrwxrwxrwx. 1 root root
22 Apr
1 13:43 /etc/grub2.cfg -> ../boot/grub2/grub.cfg
# rpm -qa | grep grub*
grubby-8.28-17.el7.x86_64
grub2-tools-2.02-0.34.el7.centos.x86_64
grub2-efi-2.02-0.34.el7.centos.x86_64
grub2-2.02-0.34.el7.centos.x86_64
# grubby --info=ALL
index=0
kernel=/boot/ovirt-node-ng-4.0.0-0+1/vmlinuz-3.10.0-327.10.1.el7.x86_64
args="ro crashkernel=auto rd.lvm.lv=centos_installed/ovirt-node-ng-4.0.0-0+1 rd.lvm.lv=centos_installed/swap rhgb quiet LANG=en_US.UTF-8 img.bootid=ovirt-node-ng-4.0.0-0+1"
root=/dev/centos_installed/ovirt-node-ng-4.0.0-0+1
initrd=/boot/ovirt-node-ng-4.0.0-0+1/initramfs-3.10.0-327.10.1.el7.x86_64.img
title=centos_installed/ovirt-node-ng-4.0.0-0+1 (oVirt Node 4.0.0_master)
index=1
kernel=/boot/ovirt-node-ng-4.0.0-0.3.master.20160330132038.el7+1/vmlinuz-3.10.0-327.13.1.el7.x86_64
args="ro crashkernel=auto rd.lvm.lv=centos_installed/ovirt-node-ng-4.0.0-0.3.master.20160330132038.el7+1 rd.lvm.lv=centos_installed/swap rhgb quiet LANG=en_US.UTF-8 img.bootid=ovirt-node-ng-4.0.0-0.3.master.20160330132038.el7+1"
root=/dev/centos_installed/ovirt-node-ng-4.0.0-0.3.master.20160330132038.el7+1
initrd=/boot/ovirt-node-ng-4.0.0-0.3.master.20160330132038.el7+1/initramfs-3.10.0-327.13.1.el7.x86_64.img
title=centos_installed/ovirt-node-ng-4.0.0-0.3.master.20160330132038.el7+1 (oVirt Node 4.0.0_master)
index=2
kernel=/boot/vmlinuz-3.10.0-327.13.1.el7.x86_64
args="ro crashkernel=auto rd.lvm.lv=centos_installed/root rd.lvm.lv=centos_installed/swap rhgb quiet LANG=en_US.UTF-8"
root=/dev/mapper/centos_installed-root
initrd=/boot/initramfs-3.10.0-327.13.1.el7.x86_64.img
title=CentOS Linux (3.10.0-327.13.1.el7.x86_64) 7 (Core)
index=3
non linux entry
Comment 2
Douglas Schilling Landgraf
2016-04-04 22:34 UTC
Created attachment 1143466 [details]
output strace
Comment 4
Fabian Deutsch
2016-04-12 19:14:56 UTC
From the RHEV side this is required to enable rollback.
Comment 5
Fabian Deutsch
2016-04-12 19:26:23 UTC
I can not reproduce this on fedora 22:
[root@tee ~]# ls -shal /boot/vmlinuz-4.3.4-200.fc22.x86_64
5,8M -rwxr-xr-x. 1 root root 5,8M 25. Jan 14:47 /boot/vmlinuz-4.3.4-200.fc22.x86_64
[root@tee ~]# grub2-editenv list
saved_entry=Fedora (4.4.6-200.fc22.x86_64) 22 (Twenty Two)
[root@tee ~]# grubby --set-default=/boot/vmlinuz-4.3.4-200.fc22.x86_64
[root@tee ~]# grub2-editenv list
saved_entry=Fedora (4.3.4-200.fc22.x86_64) 22 (Twenty Two)
Changed
[root@tee ~]# grubby --set-default=/boot/vmlinuz-4.4.6-200.fc22.x86_64
[root@tee ~]# grub2-editenv list
saved_entry=Fedora (4.4.6-200.fc22.x86_64) 22 (Twenty Two)
Changed again
Douglas, can you try the same flow on CentOS?
Comment 6
Douglas Schilling Landgraf
2016-04-13 06:27:57 UTC
In a pure Centos 7 I cannot reproduce, here more debugging:
Example output:
# ls -sha1 /boot/ovirt-node-ng-4.0.0-0.20160413.0+1/vmlinuz-3.10.0-327.13.1.el7.x86_64
5.0M /boot/ovirt-node-ng-4.0.0-0.20160413.0+1/vmlinuz-3.10.0-327.13.1.el7.x86_64
# grubby --set-default /boot/ovirt-node-ng-4.0.0-0.20160413.0+1/vmlinuz-3.10.0-327.13.1.el7.x86_64
# grub2-editenv list
saved_entry=centos_installed/ovirt-node-ng-4.0.0-0.20160413.0+1 (oVirt Node 4.0.0_master)
# grubby --default-kernel
#
Using gdb:
#gdb /usr/sbin/grubby --default-kernel
gdb> b suitableImage
2263		rootdev = findDiskForRoot();
(gdb) p dev
$23 = 0x611540 "/dev/centos_installed/ovirt-node-ng-4.0.0-0.20160413.0+1"
2277		if (strcmp(getuuidbydev(rootdev), getuuidbydev(dev))) {
(gdb) p rootdev
$24 = 0x611590 "/dev/mapper/centos_installed-ovirt--node--ng--4.0.0--0+1"
(gdb) p dev
$25 = 0x611540 "/dev/centos_installed/ovirt-node-ng-4.0.0-0.20160413.0+1"
(gdb) n
2278			notSuitablePrintf(entry, 0,
"uuid mismatch: rootdev %s, dev %s\n",
getuuidbydev(rootdev), getuuidbydev(dev));
(gdb) p getuuidbydev(rootdev)
$1 = 0x6257f0 "3c1df351-9205-4743-82df-6c1954d6495a"
(gdb) p getuuidbydev(dev)
value has been optimized out
# ls /dev/mapper/centos_installed-ovirt--node--ng--4.0.0--0+1 -la
lrwxrwxrwx. 1 root root 7 Apr 13 05:22 /dev/mapper/centos_installed-ovirt--node--ng--4.0.0--0+1 -> ../dm-3
[root@localhost grubby-8.28-1]# ls /dev/centos_installed/ovirt-node-ng-4.0.0-0.20160413.0+1 -la
lrwxrwxrwx. 1 root root 7 Apr 13 05:22 /dev/centos_installed/ovirt-node-ng-4.0.0-0.20160413.0+1 -> ../dm-7
Here the fulll code:
if (strcmp(getuuidbydev(rootdev), getuuidbydev(dev))) {
notSuitablePrintf(entry, 0,
"uuid mismatch: rootdev %s, dev %s\n",
getuuidbydev(rootdev), getuuidbydev(dev));
free(rootdev);
return 0;
}
Comment 7
Fabian Deutsch
2016-04-13 11:46:39 UTC
Hm.
I ran the same on my CentOS setup to try to reproduce this, but I can't.
Having to images available I can chang ethe default from one to the other and vice versa using grubby.
Comment 8
Fabian Deutsch
2016-05-06 09:05:50 UTC
Closing according to comment 7 for now
Comment 9
Ryan Barry
2016-06-30 17:35:34 UTC
This is still reproducible.
grubby does successfully set the new kernel, but grubby itself can't find it:
# grubby --default-kernel
#
This works ok with --bad-image-okay, which is an acceptable workaround for now (we're using grubby to abstract bootloader operations, so as long as it *works* we can live with it), but it would be nice to have it fixed.
# grubby --default-kernel --bad-image-okay
/boot/ovirt-node-ng-4.0.0-0.20160630.0+1/vmlinuz-3.10.0-327.22.2.el7.x86_64
We are using thin LVM snapshots as the basis for RHV-H Next, so the UUIDs can be odd:
# lsblk
NAME
MAJ:MIN RM
SIZE RO TYPE MOUNTPOINT
sr0
11:0
1 1024M
0 rom
vda
252:0
0
30G
0 disk
├─vda1
252:1
0
1G
0 part /boot
└─vda2
252:2
0
29G
0 part
├─onn-pool00_tmeta
253:0
0
24M
0 lvm
│ └─onn-pool00-tpool
253:2
0 22.5G
0 lvm
│
├─onn-ovirt--node--ng--4.0.0--0.20160627.0+1 253:3
0
7.4G
0 lvm
/
│
├─onn-pool00
253:5
0 22.5G
0 lvm
│
├─onn-var
253:6
0
15G
0 lvm
/var
│
├─onn-root
253:7
0
7.4G
0 lvm
│
├─onn-ovirt--node--ng--4.0.0--0.20160630.0
253:8
0
4.4G
1 lvm
│
└─onn-ovirt--node--ng--4.0.0--0.20160630.0+1 253:9
0
4.4G
0 lvm
├─onn-pool00_tdata
253:1
0 22.5G
0 lvm
│ └─onn-pool00-tpool
253:2
0 22.5G
0 lvm
│
├─onn-ovirt--node--ng--4.0.0--0.20160627.0+1 253:3
0
7.4G
0 lvm
/
│
├─onn-pool00
253:5
0 22.5G
0 lvm
│
├─onn-var
253:6
0
15G
0 lvm
/var
│
├─onn-root
253:7
0
7.4G
0 lvm
│
├─onn-ovirt--node--ng--4.0.0--0.20160630.0
253:8
0
4.4G
1 lvm
│
└─onn-ovirt--node--ng--4.0.0--0.20160630.0+1 253:9
0
4.4G
0 lvm
└─onn-swap
253:4
0
2G
0 lvm
[SWAP]
grubby complains about a uuid mismatch when it targets a different root= than the one it's running on. I imagine that this is intentional, but not ideal when using snapshots.
When run from one snapshot with the kernel on another (for example):
# mount
/dev/mapper/onn-ovirt--node--ng--4.0.0--0.20160627.0+1 on / type xfs (rw,relatime,seclabel,attr2,inode64,logbsize=64k,sunit=128,swidth=128,noquota)
# grubby --default-kernel --debug
DBG: command line: --default-kernel --debug
DBG: Image entry failed: uuid mismatch: rootdev 00e23a92-6296-45ef-bef2-459fb51af69a, dev af545169-1c49-4021-a72b-bb93aec51d56
# ls -l /dev/disk/by-uuid/
total 0
lrwxrwxrwx. 1 root root 10 Jun 30 16:43 00e23a92-6296-45ef-bef2-459fb51af69a -> ../../dm-3
lrwxrwxrwx. 1 root root 10 Jun 30 16:55 af545169-1c49-4021-a72b-bb93aec51d56 -> ../../dm-9
# dmsetup info
Name:
onn-ovirt--node--ng--4.0.0--0.20160630.0+1
State:
ACTIVE
Read Ahead:
8192
Tables present:
LIVE
Open count:
0
Event number:
0
Major, minor:
253, 9
Number of targets: 1
UUID: LVM-lfTUhYUbzphTBkAwx46DfhDl39M0ydKRZlffMdOpgPDdOgKhqHJ9SmyaEXmLiZ3p
Name:
onn-ovirt--node--ng--4.0.0--0.20160627.0+1
State:
ACTIVE
Read Ahead:
8192
Tables present:
LIVE
Open count:
1
Event number:
0
Major, minor:
253, 3
Number of targets: 1
UUID: LVM-lfTUhYUbzphTBkAwx46DfhDl39M0ydKRWNcl56htotMteAdyJGJutffNFr9eRdBK
Comment 10
Marek Hruscak
2016-07-20 13:43:39 UTC
Hi Ryan,
I am unable to reproduce this bug using basic methods like cloning whole disk or cloning logical volume to obtain same UUIDs.
Will You please retest it once fix will be ready? I will send notification.
Comment 11
Ryan Barry
2016-07-20 13:44:56 UTC
Sure, I'm happy to test this when the fix is ready.
Comment 12
Fabian Deutsch
2016-08-09 19:09:23 UTC
This really is an issue, we need help to debug this.
In our setup we have the issue that a few things w/ grubby do not work:
[root@dhcp-8-127 ~]# grubby --default-kernel
[root@dhcp-8-127 ~]# grubby --default-index
1
[root@dhcp-8-127 ~]# grubby --bad-image-okay --default-index
1
[root@dhcp-8-127 ~]# grubby --bad-image-okay --default-kernel
/boot/rhvh-4.0-0.20160727.0+1/vmlinuz-3.10.0-327.22.2.el7.x86_64
But this info is wrong - the index=0 kernel got booted:
[root@dhcp-8-127 ~]# imgbase w
[INFO] You are on rhvh-4.0-0.20160803.0+1
[root@dhcp-8-127 ~]# findmnt /
TARGET SOURCE
FSTYPE OPTIONS
/
/dev/mapper/r4b_dhcp--8--127-rhvh--4.0--0.20160803.0+1 xfs
rw,relatime,seclabel,attr2,inode64,sunit=512,swidth=512,noquota
This root maps to index=0 in the grub cfg:
[root@dhcp-8-127 ~]# grubby --info=ALL
index=0
kernel=/boot/rhvh-4.0-0.20160803.0+1/vmlinuz-3.10.0-327.28.2.el7.x86_64
args="ro crashkernel=auto rd.lvm.lv=r4b_dhcp-8-127/rhvh-4.0-0.20160803.0+1 rd.lvm.lv=r4b_dhcp-8-127/swap rhgb quiet LANG=en_US.UTF-8 img.bootid=rhvh-4.0-0.20160803.0+1"
root=/dev/r4b_dhcp-8-127/rhvh-4.0-0.20160803.0+1
initrd=/boot/rhvh-4.0-0.20160803.0+1/initramfs-3.10.0-327.28.2.el7.x86_64.img
title=rhvh-4.0-0.20160803.0
index=1
kernel=/boot/rhvh-4.0-0.20160727.0+1/vmlinuz-3.10.0-327.22.2.el7.x86_64
args="ro crashkernel=auto rd.lvm.lv=r4b_dhcp-8-127/rhvh-4.0-0.20160727.0+1 rd.lvm.lv=r4b_dhcp-8-127/swap rhgb quiet LANG=en_US.UTF-8 img.bootid=rhvh-4.0-0.20160727.0+1"
root=/dev/r4b_dhcp-8-127/rhvh-4.0-0.20160727.0+1
initrd=/boot/rhvh-4.0-0.20160727.0+1/initramfs-3.10.0-327.22.2.el7.x86_64.img
title=rhvh-4.0-0.20160727.0
index=2
kernel=/boot/vmlinuz-3.10.0-327.22.2.el7.x86_64
args="ro crashkernel=auto rd.lvm.lv=r4b_dhcp-8-127/root rd.lvm.lv=r4b_dhcp-8-127/swap rhgb quiet LANG=en_US.UTF-8"
root=/dev/mapper/r4b_dhcp--8--127-root
initrd=/boot/initramfs-3.10.0-327.22.2.el7.x86_64.img
title=Red Hat Enterprise Linux (3.10.0-327.22.2.el7.x86_64) 7.2
index=3
non linux entry
index=4
non linux entry
index=5
non linux entry
index=6
non linux entry
What is going on here?
Comment 13
Peter Jones
2016-08-15 14:54:31 UTC
> What is going on here?
I don't know - can you include your /boot/grub/grubenv from all relevant snapshots?
If I'm reading all of these comments right, it seems this is essentially an RFE for grubby to be able to identify that /boot/ is on an LVM snapshot, and consider the UUIDs of all relevant DM devices as valid candidates, work out which one we /actually/ have booted from, which might be different from what's mounted, and show output based on that.
Is that right?
If so, I think we need to add a feature to grub2 to add boot=$UUID or something along those lines on the kernel command line, because otherwise there's no way after booting to know where config files were actually loaded from if it's different than the currently configured system.
Comment 14
Fabian Deutsch
2016-08-15 19:03:37 UTC
(In reply to Peter Jones from comment #13)
> > What is going on here?
>
> I don't know - can you include your /boot/grub/grubenv from all relevant
> snapshots?
Good that you mention this file - I think this could be related/caused by bug 1366785: /boot/grub2/grubenv is a symlink to /boot/efi/EFI/$vendor/grubenv
grub2 load_env fails
> If I'm reading all of these comments right, it seems this is essentially an
> RFE for grubby to be able to identify that /boot/ is on an LVM snapshot, and
> consider the UUIDs of all relevant DM devices as valid candidates, work out
> which one we /actually/ have booted from, which might be different from
> what's mounted, and show output based on that.
>
> Is that right?
No - /boot is not snapshotted in our design.
But the grub entries point to different thin LV snapshots in a VG.
And it looks like grub has issues to change the defaults
>
> If so, I think we need to add a feature to grub2 to add boot=$UUID or
> something along those lines on the kernel command line, because otherwise
> there's no way after booting to know where config files were actually loaded
> from if it's different than the currently configured system.
As said before, it's not relevenat for us, because we have a single /boot, but might be useful in other designs.
Comment 16
Peter Jones
2017-06-19 14:24:13 UTC
Since the requested information has not been provided, we're closing this.
If you can come up with the relevant config file examples and re-open, we'll reconsider this bug.
Comment 17
Ryan Barry
2017-06-19 14:37:37 UTC
Peter, what configs do you need?
Comment 18
Marek Hruscak
2017-08-02 10:33:59 UTC
(In reply to Ryan Barry from comment #17)
> Peter, what configs do you need?
It looks like /boot/grub2/grubenv from all snapshots is needed, see comment 13 .
Ryan, can you provide them?
Thanks.
Comment 19
Ryan Barry
2017-08-22 12:52:52 UTC
(In reply to Marek Hruscak from comment #18)
> (In reply to Ryan Barry from comment #17)
> > Peter, what configs do you need?
>
> It looks like /boot/grub2/grubenv from all snapshots is needed, see comment
> 13 .
>
> Ryan, can you provide them?
> Thanks.
/boot is not snapshotted, everything uses an identical grubenv.
It's very simply:
# GRUB Environment Block
saved_entry=rhvh-4.1-0.20170817.0
#####################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################
Basically, create a new LVM volume a different ID. rsync your filesystem into it. Boot back and forth to examine the differences in grubby.
Alternatively, an earlier version of RHVH and 'yum upgrade' to the newest one.
# grubby --default-kernel --debug
DBG: command line: --default-kernel --debug
DBG: Image entry failed: uuid mismatch: rootdev bfe1a223-38a3-434e-b1a6-f4586f2be4d3, dev fd53ab53-ec12-44b8-8b82-f9d334b8110f
...
# blkid /dev/mapper/rhvh-rhvh--4.*
/dev/mapper/rhvh-rhvh--4.0--0.20170307.0+1: UUID="bfe1a223-38a3-434e-b1a6-f4586f2be4d3" TYPE="ext4"
/dev/mapper/rhvh-rhvh--4.1--0.20170817.0+1: UUID="fd53ab53-ec12-44b8-8b82-f9d334b8110f" TYPE="ext4"
Comment 20
Sandro Bonazzola
2018-11-28 10:58:58 UTC
This missed 7.2.z, 7.3, acked for 7.4 and missed it, missing 7.5 and 7.6.
Can we have a target milestone for this? 7.6.z? 7.7?
Comment 21
Javier Martinez Canillas
2019-03-15 14:11:22 UTC
If I understood correctly, there are 2 different issues mentioned in the comments of this bugzilla, which makes it confusing to follow. The two bugs seems to be:
1) grubby --default-kernel not printing the default kernel even after was set if the root param in the cmdline is for a partition with a different UUID than the one currently mounted as root.
2) GRUB not getting a default kernel even after it was set correctly.
I think (2) is about the grubenv file getting borked for some reasons (Comment 14 mentioned that it may be the same than bug 1366785). I'll just ignore it since the grubenv file not being correct will lead to GRUB not being able to have a default entry, and is independent to (1).
For (1), I found a much easier way to reproduce it. On a default RHEL7 install, just change the root param to a partition that's already present in the machine (for example I changed root=/dev/mapper/rhel-root to root=/dev/mapper/rhel-swap in one menu entry).
# grubby --info=ALL
index=0
kernel=/boot/vmlinuz-3.10.0-957.el7.x86_64
args="ro crashkernel=auto rd.lvm.lv=rhel/root rd.lvm.lv=rhel/swap rhgb quiet"
root=/dev/mapper/rhel-root
initrd=/boot/initramfs-3.10.0-957.el7.x86_64.img
title=Red Hat Enterprise Linux Workstation (3.10.0-957.el7.x86_64) 7.6 (Maipo)
index=1
kernel=/boot/vmlinuz-3.10.0-932.el7.x86_64
args="ro crashkernel=auto rd.lvm.lv=rhel/root rd.lvm.lv=rhel/swap rhgb quiet"
root=/dev/mapper/rhel-swap
initrd=/boot/initramfs-3.10.0-932.el7.x86_64.img
title=Red Hat Enterprise Linux Workstation (3.10.0-932.el7.x86_64) 7.6 (Maipo)
index=2
kernel=/boot/vmlinuz-0-rescue-83fb8bc5f7924651aebd43f46ba4123f
args="ro crashkernel=auto rd.lvm.lv=rhel/root rd.lvm.lv=rhel/swap rhgb quiet"
root=/dev/mapper/rhel-root
initrd=/boot/initramfs-0-rescue-83fb8bc5f7924651aebd43f46ba4123f.img
title=Red Hat Enterprise Linux Workstation (0-rescue-83fb8bc5f7924651aebd43f46ba4123f) 7.6 (Maipo)
index=3
non linux entry
# grubby --set-default /boot/vmlinuz-3.10.0-957.el7.x86_64
# grub2-editenv list
saved_entry=Red Hat Enterprise Linux Workstation (3.10.0-957.el7.x86_64) 7.6 (Maipo)
# grubby --default-kernel
/boot/vmlinuz-3.10.0-957.el7.x86_64
This works as expected, but when using the second entry (whose root=/dev/mapper/rhel-swap):
# grubby --set-default /boot/vmlinuz-3.10.0-932.el7.x86_64 --debug
# grub2-editenv list
saved_entry=Red Hat Enterprise Linux Workstation (3.10.0-932.el7.x86_64) 7.6 (Maipo)
# grubby --default-kernel
#
Which I think is the issue reported in this bugzilla. As mentioned in Comment 9, using the --bad-image-okay option makes grubby to print the output and --debug tells us what's wrong:
# grubby --default-kernel --bad-image-okay
/boot/vmlinuz-3.10.0-932.el7.x86_64
# grubby --default-kernel --debug
DBG: command line: --default-kernel --debug
DBG: Image entry failed: uuid mismatch: rootdev b6e5711f-d2da-4ab8-bae2-d8b930ab0535, dev b0660e51-8210-4c29-8d93-56c741f3804a
DBG: menuentry 'Red Hat Enterprise Linux Workstation (3.10.0-932.el7.x86_64) 7.6 (Maipo)' --class red --class gnu-linux --class gnu --class os --unrestricted $menuentry_id_option 'gnulinux-3.10.0-932.el7.x86_64-advanced-b6e5711f-d2da-4ab8-bae2-d8b930ab0535' {
DBG:
load_video
DBG:
set gfxpayload=keep
DBG:
insmod gzio
DBG:
insmod part_gpt
DBG:
insmod xfs
DBG:
set root='hd0,gpt2'
DBG:
if [ x$feature_platform_search_hint = xy ]; then
DBG:
search --no-floppy --fs-uuid --set=root --hint-bios=hd0,gpt2 --hint-efi=hd0,gpt2 --hint-baremetal=ahci0,gpt2
45d2bc24-891a-48bd-be95-4395bb5e1059
DBG:
else
DBG:
search --no-floppy --fs-uuid --set=root 45d2bc24-891a-48bd-be95-4395bb5e1059
DBG:
fi
DBG:
linuxefi /vmlinuz-3.10.0-932.el7.x86_64 root=/dev/mapper/rhel-swap ro crashkernel=auto rd.lvm.lv=rhel/root rd.lvm.lv=rhel/swap rhgb quiet
DBG:
initrdefi /initramfs-3.10.0-932.el7.x86_64.img
DBG: }
Now this indeed is confusing and not consistent, since grubby --set-default doesn't require a --bad-image-okay to set the default and also --debug doesn't says anything about the UUID mismatch.
But it's not clear to me what should be the correct fix, if making --set-default to be strict and also require a --bad-image-ok in this case (and print the UUID mismatch with --debug) or to make --default-kernel more lax and not require the --bad-image-ok in this case.
Comment 22
Javier Martinez Canillas
2019-03-18 13:32:16 UTC
(In reply to Javier Martinez Canillas from comment #21)
[snip]
>
> But it's not clear to me what should be the correct fix, if making
> --set-default to be strict and also require a --bad-image-ok in this case
> (and print the UUID mismatch with --debug) or to make --default-kernel more
> lax and not require the --bad-image-ok in this case.
After some thinking I think we would want the latter, that is to allow --default-kernel to print the default even if there's a UUID mismatch (but still print that with info with --debug).
Comment 26
Jan Stodola
2019-06-26 13:03:15 UTC
Reproduced on RHEL-7.6 using steps from comment 21:
[root@localhost ~]# rpm -q grubby
grubby-8.28-25.el7.x86_64
[root@localhost ~]# grubby --info=ALL
index=0
kernel=/boot/vmlinuz-3.10.0-1058.el7.x86_64
args="ro crashkernel=auto rd.lvm.lv=rhel/root rd.lvm.lv=rhel/swap rhgb quiet LANG=en_US.UTF-8"
root=/dev/mapper/rhel-root
initrd=/boot/initramfs-3.10.0-1058.el7.x86_64.img
title=Red Hat Enterprise Linux Server (3.10.0-1058.el7.x86_64) 7.6 (Maipo)
index=1
kernel=/boot/vmlinuz-3.10.0-957.el7.x86_64
args="ro crashkernel=auto rd.lvm.lv=rhel/root rd.lvm.lv=rhel/swap rhgb quiet LANG=en_US.UTF-8"
root=/dev/mapper/rhel-swap
initrd=/boot/initramfs-3.10.0-957.el7.x86_64.img
title=Red Hat Enterprise Linux Server (3.10.0-957.el7.x86_64) 7.6 (Maipo)
index=2
kernel=/boot/vmlinuz-0-rescue-c57ad8dea5194fb5ad9044b37b88e0a8
args="ro crashkernel=auto rd.lvm.lv=rhel/root rd.lvm.lv=rhel/swap rhgb quiet"
root=/dev/mapper/rhel-root
initrd=/boot/initramfs-0-rescue-c57ad8dea5194fb5ad9044b37b88e0a8.img
title=Red Hat Enterprise Linux Server (0-rescue-c57ad8dea5194fb5ad9044b37b88e0a8) 7.6 (Maipo)
index=3
non linux entry
[root@localhost ~]# grubby --set-default /boot/vmlinuz-3.10.0-957.el7.x86_64
[root@localhost ~]# grub2-editenv list
saved_entry=Red Hat Enterprise Linux Server (3.10.0-957.el7.x86_64) 7.6 (Maipo)
[root@localhost ~]# grubby --default-kernel
[root@localhost ~]#
Verification using grubby-8.28-26.el7 on the same system, the default kernel is printed:
[root@localhost ~]# yum update grubby
...
[root@localhost ~]# rpm -q grubby
grubby-8.28-26.el7.x86_64
[root@localhost ~]# grubby --default-kernel
/boot/vmlinuz-3.10.0-957.el7.x86_64
[root@localhost ~]#
Moving to VERIFIED.
Note
You need to
log in
before you can comment on or make changes to this bug.
[?]

















Kernel 3.10.0-957.12.1.el7.x86_64 on an x86_64
hm login:

============================https://bugzilla.redhat.com/show_bug.cgi?id=1323842===============================

 rh25 release notes faq guides index user guide api guide contact legal known issue release note technology preview deprecated functionality removed functionality cshao dougsland fmartine huzhao jstodola pjones rbarry weiwang ycui fixed linux -- class gnu -- class os -- unrestricted fedora account system red hat associate red hat customer hide forgot red hat bugzilla – bug 1323842 [?] maipo )' -- class red -- class gnu min rm size ro type mountpoint sr0 11 3 non linux entry comment 2 douglas schilling landgraf 2016 0 0 30g 0 disk ├─ vda1 252 bug using basic methods like cloning whole disk red hat bugzilla account forgot password login 0 0 24m 0 lvm │ └─ onn 0 1 1024m 0 rom vda 252 2 0 29g 0 part ├─ onn 1 root root 5411 apr 1 20 red hat enterprise linux 7 classification 1 root root 10 jun 30 16 output strace comment 4 fabian deutsch 2016 5g 0 lvm │ └─ onn 5g 0 lvm │ ├─ onn 4g 0 lvm │ ├─ onn 4g 1 lvm │ └─ onn linux kernel x86 boot executable bzimage 1 root root 7 apr 13 05 1 root root 22 apr 1 13 comment 6 douglas schilling landgraf 2016 lftuhyubzphtbkawx46dfhdl39m0ydkrwncl56htotmteadyjgjutffnfr9erdbk comment 10 marek hruscak 2016 red hat enterprise linux workstation red hat enterprise linux server ovirt -- node -- ng -- 4 comment 22 javier martinez canillas 2019 comment 21 javier martinez canillas 2019 release test team docs contact description douglas schilling landgraf 2016 4g 0 lvm └─ onn 4g 0 lvm ├─ onn localhost ~]# yum update grubby ... 1 0 1g 0 part comment 20 sandro bonazzola 2018 comment 5 fabian deutsch 2016 comment 7 fabian deutsch 2016 comment 8 fabian deutsch 2016 comment 12 fabian deutsch 2016 red hat enterprise linux comment 14 fabian deutsch 2016 4 non linux entry index 3 non linux entry index 4 0 2g 0 lvm 5 non linux entry index 6 0 15g 0 lvm new browser support policy 5 comment 11 ryan barry 2016 product dashboard help page help c57ad8dea5194fb5ad9044b37b88e0a8 args =" ro crashkernel 83fb8bc5f7924651aebd43f46ba4123f args =" ro crashkernel comment 16 peter jones 2017 x86_64 args =" ro crashkernel comment 9 ryan barry 2016 comment 13 peter jones 2016 localhost ~]# verification using grubby comment 26 jan stodola 2019 comment 18 marek hruscak 2017 douglas schilling landgraf modified localhost ~]# grubby -- info boot └─ vda2 252 comment 17 ryan barry 2017 127 ~]# grubby -- info new simple search advanced search comment 19 ryan barry 2017 127 ~]# grubby -- bad localhost ~]# grubby -- set var │ ├─ onn localhost ~]# grubby -- default 127 ~]# grubby -- default tee ~]# grubby -- set r4b_dhcp -- 8 -- 127 6 non linux entry grubby -- debug -- set 3 non linux entry 34 utc created attachment 1143466 value bug fix enhancement rebase peter jones qa contact r -- r --. │ ├─ onn 1 root root 5 douglas schilling landgraf links browse requests reports red hat component 1 -> ../ dm root initrd =/ boot 1 initrd =/ boot 0 kernel =/ boot 127 ~]# imgbase w rootdev ); return 0 vice versa using grubby 2 kernel =/ boot target source fstype options javier martinez canillas 1 kernel =/ boot whose root =/ dev using thin lvm snapshots platform 1690324 1366549 treeview b suitableimage 2263 rootdev 1323842 – grubby swap initrd =/ boot localhost ~]# echo $? 0 kernel got booted 4g 0 lvm bb93aec51d56 -> ../../ dm 459fb51af69a -> ../../ dm swap rhgb quiet lang doc update doc text different root uuids login 39 utc hi ryan -- debug tells us cfg -> ../ boot since grubby -- set set root =' hd0 0 -- 0 x86_64 root =/ dev rc target release one menu entry ). grubenv grub2 load_env fails changed root =/ dev 50 utc closing according kernel -- debug dbg 1 -- 0 okay option makes grubby add boot =$ uuid swap rhgb quiet dbg grub environment block saved_entry 2 different issues mentioned relevant config file examples 2 0 22 swap ro crashkernel grubenv file getting borked different thin lv snapshots 1 0 22 8 0 4 3 0 7 root -- hint grubby -- info cloning logical volume new lvm volume 7 0 7 localhost ~]# moving 5 0 22 127 ~]# findmnt ovirt node 4 grubby -- set 9 0 4 grubby -- default localhost ~]# grub2 kernel -- bad type =" ext4 root =/ dev 0 ##################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################### basically q grubby grubby tee ~]# grub2 -- debug ). see comment 13 default =/ boot localhost ~]# rpm currently configured system floppy -- fs x86_64 -- debug tee ~]# ls rhvh -- 4 swap rhgb quiet allow -- default 0 event number 6 using steps also -- debug uuid -- set total 0 lrwxrwxrwx okay -- default comment 14 mentioned grubby sub component bug writing guidelines make -- default different root uuids 1 event number 1 ]# ls making -- set looks like grub gpt2 -- hint relevant dm devices 39 utc hm image entry failed dmsetup info name bug 1366785 ). uuid =" fd53ab53 uuid =" bfe1a223 site requires javascript active read ahead abstract bootloader operations 0 index default rhel7 install chang ethe default 13 utc flags editenv list saved_entry 1 xfs rw 2 index marek hruscak lsblk name maj 0x611590 "/ dev 0x611540 "/ dev 25 utc description 13 utc since grub entries point 8192 tables present insmod part_gpt dbg insmod gzio dbg bug 1323842 pure centos 7 default kernel even index 1 search -- ryan barry n ", getuuidbydev kernel command line dev )); free insmod xfs dbg 56 utc sure comment 7 urgent target milestone show output based n 2278 notsuitableprintf much easier way efi /$ vendor 37 utc peter 15 utc reproduced 20 13 localhost grubby comment 21 flags details add -- bad login using unspecified os two bugs seems output strace -- debug one currently mounted -- set centos linux peter jones 16 utc 13 11 -- default see comment comment 9 30 17 fedora 22 using grubby doc type 1 ). live open count different root default entry new kernel looks like rootdev ), getuuidbydev lvm snapshot 0 major 1 uuid 0 253 type xfs x86_64 5 issue reported root rd root param root maps root 45d2bc24 root 253 3 number 22 12 second entry 1 state 1 rd 1 ), bug list bug 1366785 default kernel yum upgrade jan 14 echo $? 1 253 26 13 18 13 using snapshots 4 hardware 3 lrwxrwxrwx grubby complains 22 utc bug fixes boot back disk bugzilla account 12 19 target milestone rbarry note none product need help jstodola fixed x86_64 grub2 version 3 missing 7 2016 grubenv file corr ... 34 utc different uuid default even 8 img onn kernel cannot dev fd53ab53 dev )); 56 utc relevant snapshots 28 10 19 14 02 10 successfully set set gfxpayload set correctly correctly set things w rootdev bfe1a223 docs needed config files command line [?] 9 number using gdb 15 19 13 06 var 253 swap ): missed 7 f9d334b8110f ... 15 14 douglas kernel gdb swap 253 grub cfg different id example output comment lftuhyubzphtbkawx46dfhdl39m0ydkrzlffmdopgpddogkhqhj9smyaexmliz3p name lvm 0 p dev dev b0660e51 dev af545169 dev ))) 59 utc 57 utc 37 utc 31 utc identical grubenv 04 22 uuid mismatch urgent severity twenty two rootdev 00e23a92 ro p rootdev make changes maipo grep grub cfg lrwxrwxrwx already present 9 users 2019 load_video dbg keep dbg img dbg fi dbg else dbg 56c741f3804a dbg 4395bb5e1059 dbg 2 one snapshot newest one retrieved even cc list 1366785 blocks system issue 09 19 p getuuidbydev index root 2017 enhancements rebase correct fix 58 utc 52 utc 33 utc 23 utc 03 utc entry 1 xy ]; valid candidates unspecified priority understood correctly swap_dev 0x4 still reproducible something along send notification says anything rootdev b6e5711f rhev side requested information proposed patch please retest please enable normal vga ng last closed img title images available h next gpt2 45d2bc24 function correctly fulll code finddiskforroot (); fedora everything uses enable rollback blocked reported auto rd also require acceptable workaround 95 kb 55 af545169 127 11 05 --- assignee tpool 253 pool00_tmeta 253 pool00_tdata 253 4 ryan 6 grubby la lrwxrwxrwx earlier version --- version bug boot example ): ovirt node 3 10 5 zstream depends would want verified alias still print etc .) centos setup cannot reproduce actually loaded 8m 25 43 00e23a92 pool00 253 info 7 peter 06 09 using 13 8 kernel debug 22 set works ok value test r4b_dhcp output comments right c57ad8dea5194fb5ad9044b37b88e0a8 attachment advanced 83fb8bc5f7924651aebd43f46ba4123f 21 swap default x86_64 file different uuids since rebase okay mentioned fix add 34 26 18 17 dev snapshots grubenv grub2 uuid us text rootdev relevant qa makes lv issues hd0 grub getting environment closing changed booted bb93aec51d56 9 459fb51af69a 1690324 14 dbg one ls getuuidbydev cfg way show seems rw rpm rhvh open notsuitableprintf mounted making live image gpt2 efi details centos 37 25 ), 253 version gdb example 09 06 would works verified setup right require reproduce print pool00 ok needed need missed la f9d334b8110f etc enhancements depends correct comments b6e5711f actually 8m 58 52 43 33 28 23 04 03 02 z xr x wrong work whiteboard vmlinuz view vg utf usr useful use url unable try tools thinking think thanks testcase terms targets systems symlink swidth sunit summary strict strcmp status snip snapshotted single simply shal sha1 seclabel sbin said rwxr running run rsync rootfs rhv rhel rfe rescue required reply reopened relevenat relatime related reconsider reasons really ready reading ran provided provide problem printing printed plain partition otherwise otherqa org optimized odd obtain noquota nice needinfo mount minor might menuentry_id_option menuentry mention may master mapper machine long logbsize log linuxefi lines lead lax latter l know keywords kbuilder intentional inode64 initrdefi initramfs independent indeed include imagine ignore identify ideal history happy good going gnulinux found forth follow flow find filesystem feature_platform_search_hint feature fc22 f4586f2be4d3 expected examine essentially enabled en_us el77 el7 edit ec12 differences dhcp designs design defaults debugging d8b930ab0535 d2da create could core consistent consider confusing configs come cmdline clones clone clear change centos_installed caused case builder booting bootid blkid bios bef2 be95 basis baremetal bae2 b1a6 attr2 attachments another alternatively ahci0 acked able a72b 957 932 9205 8d93 8b82 891a 82df 8210 6c1954d6495a 64k 6296 54 512 4c29 4ab8 48bd 4743 47 46 45ef 44b8 44 434e 4021 3c1df351 38a3 35 327 32 27 24 2277 20170817 20170307 20160803 20160727 20160630 20160627 20160413 20160330132038 200 1c49 128 1058 103 0x6257f0 0m 0_master 08 07

















{
  "vendors": [
    "dashboard",
    "team"
  ],
  "device_types": [],
  "products": [
    "el7.x86",
    "x86",
    "rh25",
    "sr0",
    "vda1",
    "x86",
    "lftuhyubzphtbkawx46dfhdl39m0ydkrwncl56htotmteadyjgjutffnfr9erdbk",
    "c57ad8dea5194fb5ad9044b37b88e0a8",
    "fb8bc5f7924651aebd43f46ba4123f",
    "vda2",
    "r4b",
    "bb93aec51d56",
    "fb51af69a",
    "hd0",
    "grub2",
    "ext4",
    "gpt2",
    "fd53ab53",
    "bfe1a223",
    "rhel7",
    "x611590",
    "x611540",
    "d2bc24",
    "f9d334b8110f",
    "lftuhyubzphtbkawx46dfhdl39m0ydkrzlffmdopgpddogkhqhj9smyaexmliz3p",
    "b0660e51",
    "af545169",
    "e23a92",
    "c741f3804a",
    "bb5e1059",
    "x4",
    "b6e5711f",
    "pool00",
    "pool00",
    "pool00",
    "sha1",
    "inode64",
    "fc22",
    "f4586f2be4d3",
    "el77",
    "el7",
    "ec12",
    "d8b930ab0535",
    "d2da",
    "bef2",
    "be95",
    "bae2",
    "b1a6",
    "attr2",
    "ahci0",
    "a72b",
    "d93",
    "b82",
    "c1954d6495a",
    "c29",
    "ab8",
    "b8",
    "c1df351",
    "a3",
    "c49",
    "x6257f0"
  ]
}



































Kernel 3.10.0-957.12.1.el7.x86_64 on an x86_64
hm login:

============================https://github.com/Hubbitus/Fedora-packaging/issues/3===============================

Is it possible to install your Fedora kernels on CentOS 7 ? · Issue #3 · Hubbitus/Fedora-packaging · GitHub
Skip to content
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Package registry
Team management
Social coding
Documentation
Code hosting
Customer stories →
Security →
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
Watch
1
Star
1
Fork
0
Hubbitus/Fedora-packaging
Code
Issues
3
Pull requests
0
Projects
0
Security
Insights
Dismiss
Join GitHub today
GitHub is home to over 36 million developers working together to host and review code, manage projects, and build software together.
Sign up
New issue
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
Pick a username
Email Address
Password
Sign up for GitHub
By clicking “Sign up for GitHub”, you agree to our terms of service and
privacy statement. We’ll occasionally send you account related emails.
Already on GitHub?
Sign in
to your account
Is it possible to install your Fedora kernels on CentOS 7 ?
#3
Open
Sarge2013
opened this issue
May 16, 2015
· 18 comments
Open
Is it possible to install your Fedora kernels on CentOS 7 ?
#3
Sarge2013
opened this issue
May 16, 2015
· 18 comments
Comments
Assignees
Hubbitus
Labels
enhancement
question
Projects
None yet
Milestone
No milestone
2 participants
Copy link
Quote reply
Sarge2013
commented
May 16, 2015
Dear Pavel Alexeev,
first of all - thank you for the Hubbitus !
Let me a question - is it possible to add
http://rpm.hubbitus.info/Fedora21/kernel-pf/x86_64/
to http://hubbitus.info/wiki/Repository
for CentOS 7 ?
If this is a big headache for you - let me another question.
Is it possible to try .RPM packages from http://rpm.hubbitus.info/Fedora21/kernel-pf/x86_64/ to upgrade kernel on CentOS 7 and what exact packages from that list to use ?
I'd interested to try if it's generally possible.
I guess :) no warranty - but generally it seems to be compatible with CentOS 7.
Thank you in advance for your comment !
Best regards,
Serge
This comment has been minimized.
Sign in to view
Copy link
Quote reply
Owner
Hubbitus
commented
May 18, 2015
Hello @Sarge2013.
Generally no, now I do not provide builds for EPEL, but if it is willing I'll try do so.
Hubbitus
added
enhancement
question
labels
May 18, 2015
Hubbitus
self-assigned this
May 18, 2015
This comment has been minimized.
Sign in to view
Copy link
Quote reply
Author
Sarge2013
commented
May 20, 2015
Dear Pavel,
If you could provide http://rpm.hubbitus.info/Fedora21/kernel-pf/x86_64/
builds for EPEL (CentOS YUM packages) - you'll be "only one in the world".
Because generally CentOS will never include BFS & BFQ I/O schedulers (part of PF-kernel patches)
to their official repos.
They have very conservative policy about that.
Even CentOS YUM packages for upgrading current default CentOS 7 kernel 3.10 to 4.x I found only on single ELREPO
ref http://wiki.mikejung.biz/CentOS_7#Upgrade_CentOS_7_Kernel_to_4.0.1 &
http://elrepo.org/tiki/tiki-index.php
So may be you could use ELREPO kernel sources too for something.
I listed you my arguments :) so you decide.
As to me - I'd be very interested to try your YUM CentOS 7 kernel 4.0.2 with included PF-KERNEL (mainly BFS & BFQ from there)
I'm sure many other users will also come.
FYI - I was making some unsuccessful tests to rebuild myself - on CentOS 7 I met the problem with dracut version.
Your http://rpm.hubbitus.info/Fedora21/kernel-pf/x86_64/ requires dracut >=038 version, but default CentOS
has only 033 and no sources to upgrade.
Thank you in advance for a feedback,
Best regards,
Serge
Monday, May 18, 2015, 10:22:45 PM, you wrote:
Hello @Sarge2013.
Generally no, now I do not provide builds fro EPEL, but if it is willing I'll try do so.
—
Reply to this email directly or view it on GitHub.
This comment has been minimized.
Sign in to view
Copy link
Quote reply
Owner
Hubbitus
commented
May 20, 2015
Hi @Sarge2013.
Honestly I have start experiments with stock CentOs kernel 3.10.0-229.4.2.el7. Are you require exactly 4.0 version of kernel? Do you use the same from ELRepo? I have not tested it.
This comment has been minimized.
Sign in to view
Copy link
Quote reply
Author
Sarge2013
commented
May 20, 2015
Hi Pavel,
no :) any requirements about kernel 4.x !
My native one is
3.10.0-229.el7.x86_64
I did not use 4.x from ELRepo - my friend tested the one, just for curiosity.
He said he did not find something "specific" or "visually improved" there.
By the way he said that ELRepo still use dracut 033.
I don't know why dracut >=038 required for your kernels - but if for EPEL-CentOS kernel you can avoid it and leave default dracut 033 - may be it's better ?
Anyway, I'm ready for any experiment based on your kernel 3.10 witn PF-Kernel included.
I have at-least 2-3 days on my test server under CentOS 7.1 to try everything.
So if you have any betas - you're welcome, let me try.
Best regards,
Serge
Wednesday, May 20, 2015, 12:52:20 PM, you wrote:
Hi @Sarge2013.
Honestly I have start experiments with stock CentOs kernel 3.10.0-229.4.2.el7. Are you require exactly 4.0 version of kernel? Do you use the same from ELRepo? I have not tested it.
—
Reply to this email directly or view it on GitHub.
This comment has been minimized.
Sign in to view
Copy link
Quote reply
Owner
Hubbitus
commented
May 21, 2015
Thanks for feedback.
Then I could continue. Unfortunately it is not so easy. Patch is not applied as is and required some rabase work.
This comment has been minimized.
Sign in to view
Copy link
Quote reply
Author
Sarge2013
commented
May 21, 2015
Dear Pavel, if such a professional like you say it's not so easy - it means I had no any chance to make a "package re-build" myself without an experience, definitely.
It also explains why nobody did it yet.
So wish you good luck and waiting for the news with great interest, anytime !
Best regards,
Serge
Thursday, May 21, 2015, 10:28:35 PM, you wrote:
Thanks for feedback.
Then I could continue. Unfortunately it is not so easy. Patch is not applied as is and required some rabase work.
—
Reply to this email directly or view it on GitHub.
This comment has been minimized.
Sign in to view
Copy link
Quote reply
Owner
Hubbitus
commented
May 29, 2015
@Sarge2013.
Yeh, it heavily rebased, but I have done it initially!
Work based on: https://pf.natalenko.name/forum/index.php?topic=220.0
http://rpm.hubbitus.info/epel7/kernel/ please test
This comment has been minimized.
Sign in to view
Copy link
Quote reply
Owner
Hubbitus
commented
May 29, 2015
For uksm package uksmtols from my repository also suggested.
This comment has been minimized.
Sign in to view
Copy link
Quote reply
Author
Sarge2013
commented
May 31, 2015
Hello !
I've tried to use http://rpm.hubbitus.info/epel7/kernel/ - but something is wrong with connection.
Please, cross check from your end.
This comment has been minimized.
Sign in to view
Copy link
Quote reply
Owner
Hubbitus
commented
May 31, 2015
Sorry for the problem (but if you use yum there should be mirror used automatically). Please try again.
This comment has been minimized.
Sign in to view
Copy link
Quote reply
Author
Sarge2013
commented
Jun 1, 2015
The problem is still here...after installation as instructed
su -c 'rpm -Uhv http://hubbitus.info/rpm/epel7/Hubbitus-release-7-latest.noarch.rpm'
// I tried
yum --enablerepo=Hubbitus install kernel-headers kernel-tools-libs kernel-tools
// and have result
Error getting repository data for hubbitus, repository not found
// After that I checked all links in Hubbitus.repo
baseurl=
http://hubbitus.info/rpm/EL$releasever/
http://hubbitus.info/rpm/epel$releasever/
http://rpm-mirror.hubbitus.info/epel$releasever/
They all dead "Not Found"
Please, cross-check from your side again,
This comment has been minimized.
Sign in to view
Copy link
Quote reply
Owner
Hubbitus
commented
Jun 2, 2015
Hm, last should work: http://rpm-mirror.hubbitus.info/epel7/
This comment has been minimized.
Sign in to view
Copy link
Quote reply
Owner
Hubbitus
commented
Jun 2, 2015
And http://hubbitus.info/rpm/epel7/ also automatically redirect to new location http://rpm.hubbitus.info/epel7/ did not that happened for you?
Hubbitus
added a commit
that referenced
this issue
Jun 2, 2015
Hubbitus-release:
…
- Change in repo default url http://hubbitus.info/rpm/epel$releasever/ -> http://rpm.hubbitus.info/epel$releasever/ (#3 (comment))
- Cleanup spec (only Epel7 now basically support).
- Step to use Hubbitus.repo.EL precise source name.
a5603d7
This comment has been minimized.
Sign in to view
Copy link
Quote reply
Owner
Hubbitus
commented
Jun 2, 2015
Release file also updated, please try update it too.
This comment has been minimized.
Sign in to view
Copy link
Quote reply
Author
Sarge2013
commented
Jun 2, 2015
Dear Pavel !
Sorry for mess...but YUM REPO still does not work, really !
I can download
wget http://rpm.hubbitus.info/epel7/kernel/x86_64/kernel-3.10.0-229.4.2.el7.centos.hu.1.pf1.x86_64.rpm
wget http://rpm.hubbitus.info/epel7/kernel/x86_64/kernel-devel-3.10.0-229.4.2.el7.centos.hu.1.pf1.x86_64.rpm
but still
yum --enablerepo=Hubbitus install kernel-headers kernel-tools-libs kernel-tools
says
Error getting repository data for Hubbitus, repository not found
Yes, we can try to use RPM -Uvh not YUM INSTALL...but as we make just the first expirements - may be we'd better try to solve with YUM UPDATE ? ...as usually, I mean.
Still not direct links from
baseurl=
http://rpm.hubbitus.info/epel$releasever/
http://rpm.hubbitus.info/EL$releasever/
http://rpm-mirror.hubbitus.info/epel$releasever/
All "NOT FOUND"
Sorry, Pavel, I just say what I see.
May be any security restrictions from your side ?
Because...again, it works
wget http://rpm.hubbitus.info/epel7/kernel/x86_64/kernel-3.10.0-229.4.2.el7.centos.hu.1.pf1.x86_64.rpm
but YUM - not...
This comment has been minimized.
Sign in to view
Copy link
Quote reply
Author
Sarge2013
commented
Jun 3, 2015
Dear Pavel, now seems YUM works !
Please, read my first step-by-step report after the first test.
(if it's more convenient for correspondence - my email laaxags on gmail.com)
Unfortunately I can't use my whole physical dedicated server to try kernel upgrade tests - so I created there a virtual machine under CentOS 7.1
VM platform - same CentOS 7.1 "Base Server with GUI"
and default kernel 3.10.0-229.el7.x86_64.
// Check available I/O schedulers under default CentOS kernel
cat /sys/block/sr0/queue/scheduler
// result
noop deadline [cfq]
// My upgrade procedure
mkdir /usr/src/repos
cd /usr/src/repos
// Install repos EPEL & Hubbitus
wget http://dl.fedoraproject.org/pub/epel/7/x86_64/e/epel-release-7-5.noarch.rpm
rpm -Uvh *.rpm
su -c 'rpm -Uhv http://hubbitus.info/rpm/epel7/Hubbitus-release-7-latest.noarch.rpm'
I have used an idea of upgrade described on http://wiki.mikejung.biz/CentOS_7#Upgrade_CentOS_7_Kernel_to_4.0.1
// so I did
yum remove kernel-headers-3.10.0-229.4.2.el7.x86_64 kernel-tools-libs-3.10.0-229.4.2.el7.x86_64 kernel-tools-3.10.0-229.4.2.el7.x86_64
// then I did
yum update // no instalaltion
(Seems "yum update" did everything with upgrades ?)
// it says
Install
2 Packages
kernel
x86_64
3.10.0-229.4.2.el7.centos.hu.1.pf1
Hubbitus-EL7
31 M
kernel-devel
x86_64
3.10.0-229.4.2.el7.centos.hu.1.pf1
Hubbitus-EL7
10 M
Upgrade
70 Packages
(various from CentOS updates)
I say YES, everything was OK, it installed everything + two your kernels.
// then I did
grub2-set-default 0
grub2-mkconfig -o /boot/grub2/grub.cfg
// and restart
init 6
After restart I checked
uname -a
Linux localhost.localdomain 3.10.0-229.el7.x86_64 #1 SMP Fri Mar 6 11:36:42 UTC 2015 x86_64 x86_64 x86_64 GNU/Linux
// Check again I/O schedulers...under PF packages should be BFS & BFQ
cat /sys/block/sr0/queue/scheduler
// result...sorry...same 3 default ones
noop deadline [cfq]
Dear Pavel, it's not a problem for me to create another VM and continue the tests until we will find a successful installation way.
But first try seems not be successfull - as I don't see new PF packages for I/O schedulers.
Please, look my step-by-step report...what I do wrong ?
May be you could offer another upgrade procedure ?
Waiting for your hints to try - and I'll make another test.
Thanks in advance,
Have a nice day !
Serge
This comment has been minimized.
Sign in to view
Copy link
Quote reply
Owner
Hubbitus
commented
Jun 9, 2015
Hi.
Sorry for the delay with answer.
After restart I checked
uname -a
Linux localhost.localdomain 3.10.0-229.el7.x86_64 #1 SMP Fri Mar 6 11:36:42 UTC 2015 x86_64 x86_64 x86_64 GNU/Linux
It is not my kernel! Should be 3.10.0-229.4.2.el7.centos.hu.1.pf1 instead of 3.10.0-229.el7
Please check on boot time what option you had select.
And furthermore, is bfq should work under virtualisation? Is not virtual-bfq intended for that?
This comment has been minimized.
Sign in to view
Copy link
Quote reply
Author
Sarge2013
commented
Jun 18, 2015
Hello !
Seems we both we busy with other issues.
Well, my short report is
Yes, you're right. I've missed to change kernel on boot time. So yes, we have your kernel on CentOS 7 and procedure above is correct !
But anyway I don't see not BFQ not BFS I/O schedulers
cat /sys/block/sr0/queue/scheduler
noop deadline [cfq]
Seems you're right - these I/O schedulers not supported on Virtual Machines.
To my regret - right now I have only one production server where I can't make a real test on normal hardware, not on VM.
Please, don't close the topic - as soon as I'll find a possibility to test your kernel - I'll let you know.
Have a nice day !
Hubbitus
added a commit
to Hubbitus/kernel
that referenced
this issue
Jul 14, 2015
centos-kernel first attempt build kernel
…
By request Hubbitus/Fedora-packaging#3
* Mon May 18 2015 Pavel Alexeev <Pahan@Hubbitus.info> - 3.10.0-229.4.2.el7.hu.1.pf1
- Add Source49: kernel-%{version}.config.hu
- Add pf patch http://pf.natalenko.name/sources/3.10/patch-3.10.0-pf.bz2 (https://pf.natalenko.name/forum/index.php?topic=220.0)
o
without: async-thread.c, drivers/md/md.c patching
o and *massively* rebased.
- Add ppc64 into nobuildarches.
- Switch without_kabichk to 1 (do *not* check).
a381207
Hubbitus
added a commit
to Hubbitus/rpm-Hubbitus-release
that referenced
this issue
Oct 1, 2016
Hubbitus-release:
…
- Change in repo default url http://hubbitus.info/rpm/epel$releasever/ -> http://rpm.hubbitus.info/epel$releasever/ (Hubbitus/Fedora-packaging#3 (comment))
- Cleanup spec (only Epel7 now basically support).
- Step to use Hubbitus.repo.EL precise source name.
d116ebb
Sign up for free
to join this conversation on GitHub.
Already have an account?
Sign in to comment
© 2019 GitHub, Inc.
Terms
Privacy
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.

















Kernel 3.10.0-957.12.1.el7.x86_64 on an x86_64
hm login:

============================https://github.com/Hubbitus/Fedora-packaging/issues/3===============================

 features → code review project management integrations actions package registry team management social coding documentation code hosting customer stories → security → enterprise explore explore github → learn others events community forum github education marketplace pricing plans → compare plans contact sales nonprofit → education → packaging code issues 3 pull requests 0 projects 0 security insights dismiss join github today github 2015 · 18 comments comments assignees hubbitus labels enhancement question projects none yet milestone terms privacy security status help contact github pricing api training blog milestone 2 participants copy link quote reply sarge2013 commented may 16 view copy link quote reply author sarge2013 commented jun 18 view copy link quote reply owner hubbitus commented jun 9 view copy link quote reply author sarge2013 commented jun 2 contribute topics collections trending learning lab open source guides connect view copy link quote reply owner hubbitus commented may 29 view copy link quote reply author sarge2013 commented may 31 view copy link quote reply author sarge2013 commented may 21 view copy link quote reply author sarge2013 commented jun 1 view copy link quote reply author sarge2013 commented jun 3 view copy link quote reply author sarge2013 commented may 20 view copy link quote reply owner hubbitus commented jun 2 view copy link quote reply owner hubbitus commented may 18 view copy link quote reply owner hubbitus commented may 31 view copy link quote reply owner hubbitus commented may 21 view copy link quote reply owner hubbitus commented may 20 hubbitus added enhancement question labels may 18 watch 1 star 1 fork 0 hubbitus 42 utc 2015 x86_64 x86_64 x86_64 gnu review code 1 smp fri mar 6 11 upgrading current default centos 7 kernel 3 2015 · 18 comments open mon may 18 2015 pavel alexeev says install 2 packages kernel x86_64 3 tools says error getting repository data single elrepo ref http :// wiki repo default url http :// hubbitus packaging · github skip result error getting repository data hubbitus wget http :// dl scheduler // result ... sorry ... add pf patch http :// pf 3 default ones noop deadline download wget http :// rpm kernel first attempt build kernel … 36 million developers working together kernel -%{ version }. config scheduler // result noop deadline requires dracut >= 038 version works wget http :// rpm 3 open sarge2013 opened new location http :// rpm rpm wget http :// rpm username email address password sign could provide http :// rpm comment © 2019 github 2015 release file also updated 0 http :// rpm uhv http :// hubbitus could offer another upgrade procedure issue jun 2 could use elrepo kernel sources elrepo still use dracut 033 repos // install repos epel uksm package uksmtols issue may 16 -> http :// rpm security restrictions 3 sarge2013 opened el precise source name yum centos 7 kernel 4 add http :// rpm 3 · hubbitus leave default dracut 033 dracut >= 038 required use http :// rpm stock centos kernel 3 2015 dear pavel alexeev may 18 whole physical dedicated server project may 21 http :// hubbitus still yum -- enablerepo github ↵ jump free github account tried yum -- enablerepo even centos yum packages default centos kernel cat provide builds fro epel scheduler noop deadline default 0 grub2 uvh *. rpm su may 20 see new pf packages hubbitus install kernel http :// elrepo manage projects a381207 hubbitus added 2015 hubbitus self http :// rpm default kernel 3 http :// wiki github ”, — reply mirror used automatically ). devel x86_64 3 try kernel upgrade tests https :// pf package 0 version build software together issue oct 1 1 vm platform yum install ... contact 2015 dear pavel hubbitus added github yum remove kernel centos yum packages restart init 6 forum community also automatically redirect 2015 hubbitus seems yum works view el7 31 yum repo still repository also suggested upgrade 70 packages basically support ). another question 2015 hi pavel upgrade procedure mkdir yum update // require exactly 4 clicking “ sign use hubbitus privacy statement join issues issue jul 14 10 witn pf create another vm account related emails // check available least 2 sarge2013 kernel 3 · issue never include bfs 20 pm x86_64 kernel 1 // one production server request hubbitus 2016 hubbitus step report ... yet x86_64 // dracut version first try seems linux // check default centos pf1 hubbitus please try update rpm rpm may rpm packages successful installation way packaging make another test 0 2015 centos centos 7 2015 sorry pf packages localdomain 3 3 days (# 3 centos kernel el7 please check use rpm upgrade kernel 2 dear pavel new issue kernel 4 tools // terms question provide builds use yum 2015 hm 2015 hi could continue yum update hubbitus repos cd official repos add source49 add ppc64 use 4 kernel patches kernel included included pf exact packages check ). 2015 thanks 2015 hello mess ... centos updates suggested jump open instructed su email laaxags email directly cfg // another tab also explains also come libs kernel headers kernel change kernel schedulers ... 1 upgrade described test server base server generally centos found // first test first step first expirements please try 3 ↵ sign d116ebb sign x86_64 repo baseurl unsuccessful tests step report short report comment )) schedulers cat bfq cat please test try everything world ". visually improved upgrades ?) switch without_kabichk sure many start experiments real test professional like occasionally send normal hardware nice day native one mainly bfs linux localhost great interest good luck experiment based elrepo el7 10 conservative policy cleanup spec big headache best regards 45 pm 35 pm better try cross check 2015 install serge wednesday serge thursday serge monday repository 7 work based virtual machines virtual machine rabase work pf1 instead installed everything guess :) bfq intended arguments :) rpm … patch heavily rebased friend tested direct links checked uname c patching kernel pf wiki found yes epel build 033 ... still say yes generally possible pavel yum centos tools sources sorry repo release procedure find something fedora kernels boot time 36 // use upgrade first sign 4 uvh used tried see required name mirror el try issue vm tests seems comment check builds account please ↵ way test step restart one make linux installation hi grub2 free el7 devel bfs 10 serge yes work virtual schedulers pf1 generally found everything bfq :) time thanks tested something say rebased possible links libs kernels hello headers find fedora cross continue checked change c boot better baseurl ’ yeh x wrote wrong without wish window willing well welcome warranty waiting virtualisation various usually usr users upgrade_centos_7_kernel_to_4 unfortunately two topic tiki thread thank sys supported successfull src sr0 specific soon solve signed side set session service select said right results requirements reload releasever regret refresh referenced rebuild really ready read queue pub problem possibility pick php perform part org option ok nobuildarches nobody noarch news natalenko mkconfig missed minimized mikejung met means mean md massively making maintainers look listed list let latest last know interested instalaltion initially info index inc idea hu host honestly home hints happened gui grub gmail fyi furthermore feedback fedoraproject fedora21 experience epel7 end easy e drivers done delay definitely decide dead curiosity created correspondence correct conversation convenient content connection compatible commit com close chance cfq centos_7 bz2 busy block biz betas avoid async assigned applied anyway anytime answer already agree advance action a5603d7 52 5 28 229 220 22 12

















{
  "vendors": [
    "exact",
    "star",
    "team"
  ],
  "device_types": [
    "switch",
    "watch"
  ],
  "products": [
    "el7.x86",
    "x86",
    "sarge2013",
    "grub2",
    "a381207",
    "el7",
    "pf1",
    "source49",
    "ppc64",
    "d116ebb",
    "sr0",
    "fedora21",
    "epel7",
    "bz2",
    "a5603d7"
  ]
}

















STAR | WATCH

















Kernel 3.10.0-957.12.1.el7.x86_64 on an x86_64
hm login:

============================https://forums.nux.ro/index.php?t=rview&goto=3770&th=685===============================

Nux!: Report a problem or request a feature » vlc-core and libdvbpsi.so.7 dependency
Forum Search:
Nux!
Members
Search
Help
Register
Login
Home
Home » Stella » Report a problem or request a feature » vlc-core and libdvbpsi.so.7 dependency (dependency problem with updated EPEL libdvbpsi-1.3.0-3.el7.x86_64)
Show:
Today's Messages
:: Show Polls
:: Message Navigator
E-mail to friend
vlc-core and libdvbpsi.so.7 dependency [message #3769]
Wed, 25 January 2017 16:39
cjatl404
Messages: 2Registered: January 2017
Junior Member
I started getting the following error a few weeks ago when running my yum update:
# yum -y update
Loaded plugins: fastestmirror, langpacks
Loading mirror speeds from cached hostfile
* base: centos.mia.host-engine.com
* epel: mirror.mrjester.net
* extras: mirror.datto.com
* updates: repo1.dal.innoscale.net
Resolving Dependencies
--> Running transaction check
---> Package libdvbpsi.x86_64 0:0.2.2-3.el7.nux will be updated
--> Processing Dependency: libdvbpsi.so.7()(64bit) for package: 1:vlc-core-2.2.2-4.el7.nux.x86_64
---> Package libdvbpsi.x86_64 0:1.3.0-3.el7 will be an update
--> Finished Dependency Resolution
Error: Package: 1:vlc-core-2.2.2-4.el7.nux.x86_64 (@nux-dextop)
Requires: libdvbpsi.so.7()(64bit)
Removing: libdvbpsi-0.2.2-3.el7.nux.x86_64 (@nux-dextop)
libdvbpsi.so.7()(64bit)
Updated By: libdvbpsi-1.3.0-3.el7.x86_64 (epel)
~libdvbpsi.so.10()(64bit)
You could try using --skip-broken to work around the problem
You could try running: rpm -Va --nofiles --nodigest
It seems the VLC application @nux-desktop needs package libdvbpsi-0.2.2-3.el7.nux.x86_64 but EPEL has updated that package to libdvbpsi-1.3.0-3.el7.x86_64.
Besides using --skip-broken and essentially ignoring this error, does VLC need to be updated to fix this problem?
My OS is CentOS Linux release 7.3.1611 (Core)
My kernel is: 3.10.0-514.6.1.el7.x86_64
Thanks.
Report message to a moderator
Re: vlc-core and libdvbpsi.so.7 dependency [message #3770 is a reply to message #3769]
Thu, 26 January 2017 11:11
nux
Messages: 1659Registered: January 2012
Senior MemberAdministrator
You seem to be running an old verasion of VLC, this is what I have:
$rpm -qa|egrep 'vlc|dvbpsi'
vlc-core-2.2.2-6.el7.nux.x86_64
vlc-2.2.2-6.el7.nux.x86_64
libdvbpsi-1.3.0-3.el7.x86_64
vlc-extras-2.2.2-6.el7.nux.x86_64
Can you try a "yum clean all; yum install vlc" and see what happens?
Report message to a moderator
Re: vlc-core and libdvbpsi.so.7 dependency [message #3771 is a reply to message #3769]
Thu, 26 January 2017 11:26
nux
Messages: 1659Registered: January 2012
Senior MemberAdministrator
Hm, hold on, I do see some issues with live555, let me attempt a rebuild.
Report message to a moderator
Re: vlc-core and libdvbpsi.so.7 dependency [message #3772 is a reply to message #3769]
Thu, 26 January 2017 11:53
nux
Messages: 1659Registered: January 2012
Senior MemberAdministrator
Actually false alarm, all seems fine.
Do try what I suggested earlier and clean up yum then retry.
Report message to a moderator
Re: vlc-core and libdvbpsi.so.7 dependency [message #3773 is a reply to message #3772]
Thu, 26 January 2017 12:36
cjatl404
Messages: 2Registered: January 2017
Junior Member
You got me fixed, thanks!
It was an old version and now I'm updated.
Appreciate your help.
Report message to a moderator
Previous Topic:
ffmpeg2theora on EL7
Next Topic:
Some Strange Package Errors While Installing VLC
Goto Forum:
- Stella  Announcements  General chat  Howtos, tips & tricks  Report a problem or request a feature  Screenshots- Repos  Announcements  General chat  Report a problem or request a package- Miscellaneus  Rubbish  Anything
-=] Back to Top [=-
[ Syndicate this forum (XML) ] [
] [
]
Current Time: Tue Jul 02 20:36:56 BST 2019
Total time taken to generate the page: 0.05217 seconds
.::
Contact
::
Home
::.
Powered by: FUDforum 3.0.6.Copyright ©2001-2013 FUDforum Bulletin Board Software

















Kernel 3.10.0-957.12.1.el7.x86_64 on an x86_64
hm login:

============================https://forums.nux.ro/index.php?t=rview&goto=3770&th=685===============================

 members search help register login home home » stella » report net resolving dependencies --> running transaction check ---> package libdvbpsi messages :: show polls :: message navigator e january 2012 senior memberadministrator actually false alarm 56 bst 2019 total time taken :: contact :: home ::. update --> finished dependency resolution error stella announcements general chat howtos january 2012 senior memberadministrator hm miscellaneus rubbish anything -=] back va -- nofiles -- nodigest repos announcements general chat report 2013 fudforum bulletin board software could try using -- skip january 2012 senior memberadministrator besides using -- skip x86_64 ---> package libdvbpsi 7 dependency forum search updated --> processing dependency january 2017 junior member 25 january 2017 16 desktop needs package libdvbpsi 26 january 2017 12 tue jul 02 20 26 january 2017 11 langpacks loading mirror speeds centos linux release 7 installing vlc goto forum feature » vlc could try running strange package errors 26 nux messages 11 nux messages 39 cjatl404 messages update loaded plugins 53 nux messages 7 ()( 64bit copyright © 2001 36 cjatl404 messages updated epel libdvbpsi moderator previous topic el7 next topic 10 ()( 64bit x86_64 (@ nux report message yum install vlc 7 dependency x86_64 libdvbpsi tricks report help current time yum update net dependency problem fudforum 3 following error running x86_64 vlc show feature screenshots package vlc need vlc application friend vlc report work around weeks ago top [=- suggested earlier started getting old version old verasion libdvbpsi essentially ignoring cached hostfile 05217 seconds x86_64 thanks x86_64 0 message yum clean seems fine try forum error updated nux mirror centos vlc x86_64 yum moderator epel el7 36 10 thanks seems problem clean 3 0 xml wed updates today tips thu syndicate seem see rpm retry requires request repo1 reply removing rebuild qa powered page os mrjester mia mail live555 let kernel issues innoscale host hold happens got generate fixed fix ffmpeg2theora fastestmirror extras engine egrep dvbpsi dextop datto dal core com broken base attempt appreciate 6 514 4 3773 3772 3771 3770 3769 2registered 2 1659registered 1611 1

















{
  "vendors": [],
  "device_types": [
    "alarm"
  ],
  "products": [
    "el7.x86",
    "x86",
    "cjatl404",
    "el7",
    "repo1",
    "live555",
    "ffmpeg2theora"
  ]
}



































Kernel 3.10.0-957.12.1.el7.x86_64 on an x86_64
hm login:

============================https://technodocbox.com/Unix/128220699-Oracle-rac-12c-ohsdba.html===============================

Oracle RAC 12C ohsdba - PDF
Log in
Registration
Search for
Oracle RAC 12C ohsdba
SHARE
HTML
DOWNLOAD
Save this PDF as:
WORD
PNG
TXT
JPG
Size: px
Start display at page:
Download "Oracle RAC 12C ohsdba"
Error:
Download Document
Peregrine Miller
3 months ago
Views:
Transcription
1 Step by Step Install Oracle RAC On OEL7.2 Oracle RAC 12C ohsdba 12 Prerequisites... 1 Hardware... 1 Software... 1 Install Summary... 1 Oracle Certification information... 2 Oracle Clusterware (Linux x86-64 Oracle Linux 7)... 2 OS versions and minimum levels... 2 Oracle 12C RAC New feature... 3 Oracle Flex Cluster... 3 Difference between Hub Nodes and Leaf Nodes... 3 Oracle Flex ASM... 4 Create VMware Server and install OEL... 5 Create vmware server... 5 Install Oracle Linux Set datetime,language,password Reboot and Accept License OS pre-requirement Setting for /dev/shm Config yum repository Install 12cR1 preinstall package Run 12cR1-preinstall-verify Review Verify Result Configure /etc/hosts Create user Create directory and change permissions Configure /etc/selinux/config Configure /etc/security/limits.conf Configure /etc/pam.d/login Configure /etc/sysctl.conf Disable firewall3 Install and Config ASM Install and config VMware Tools Shutdown PROD Clone PROD1 to PROD Copy prod1 and rename it to prod Modify hostname to prod Change ip address on prod Shutdown PROD Add Shared disk Step On PROD Create partitions on PROD Create and Verify ASM disks Step on PROD Shared disk setting for prod Install Grid Infrastructure Add shared folder Choose ASM & Private Choose Use Oracle Flex ASM for storage Execute fixup script for both nodes Execute orainstroot.sh on both nodes Execute root.sh on PROD Execute root.sh on PROD Verify Clusterware Create MGMTDB Skip Verify Step MGMTDB Status and Operation Create DiskGroup ASM Verify and help Install Database Execute fixup script for both nodes Execute root.sh4 Create database Create container database Ignore Validation Check Access Enterprise Manager Final Verify CDB & PDB Operations Open pdb as sysdba Open pdb as pdb sysdba Create user Create tablespace Grant privileges Moidfy initiate parameters Oracle Flex ASM Operations Oracle Flex ASM Testing Operations on Prod Operations on Prod Convert standard ASM to flex ASM Managing Oracle Flex Clusters Changing the Cluster Mode Changing the Node Role Check Oracle Flex Cluster & ASM Reference Version Author Date Content V1.0 Robin.Han 2016/1/16 Initial version 45 Prerequisites Hardware RAM : 8GB CPU: Intel (R) Core (TM) i7-4510u 2.00GHz SSD: 256G OS: Windows 7 Ultimate, 64-bit , Service Pack 1 Software VMware Workstation build Oracle Linux 7 Update 2 x86-64 Oracle Grid Infrastructure ( ) Oracle Database 12c Release 1 ( ) you can get ORACLE Software from
Note: please obey the terms of use Install Summary Summary OS Server name prod1.us.oracle.com prod2.us.oracle.com Public IP Gateway VIP Private IP Scan IP root welcome1 Grid Login U/P orgrid/welcome1 DB login U/P oracle/welcome1 Database DB Name prod Instance Name prod1 prod2 Grid_Base /orgrid/grid_base Grid_Home /orgrid/oracle/product/121 Oracle_Base /ordb/oracle/product Oracle_Home /ordb/oracle/product/121 sys oracle +ASM,DB User/Password system oracle sysasm oracle pdbadmin oracle Enterprise Manager Login URL
ASM Diskgroup Name Device Size +SYSTEMDG(OCR,Voting Disk, /dev/sdb1 4G Shared MGMTDB) Disks +DATA /dev/sdb2 8G /dev/sdb3 8G 1 6 Oracle Certification information Oracle Clusterware (Linux x86-64 Oracle Linux 7) Product: For general information relating to certification for the Oracle Database product, including virtualization, interoperability, binary compatibiliy, general release and patch set information, see Core Database Certification Information (Doc ID ). Platform: For details about certification of all Oracle Database releases on Linux x86-64, click here. Certification: For details specific to the certification of Oracle Database Release 12.1 on Linux x86-64, click here. Oracle R Enterprise Server is supported on Linux x The following are the supported operating system versions: Oracle Linux 5 Update 6 or higer Red Hat Enterprise Linux 5 Update 6 or higher Oracle R Enterprise Client is supported on Linux x86-64 and Windows x The following are the supported operating system versions: Oracle Linux 5 Update 6 or higher (64-bit) Red Hat 5 Update 6 or higher (64-bit) Microsoft Windows XP with Service Pack 3 or higher (32-bit and 64-bit) Microsoft Windows 7 Service Pack 1 or higher (32-bit and 64-bit) OS versions and minimum levels o Oracle Linux 7 ( only) with the following kernels: Unbreakable Enterprise kernel: el7uek.x86_64 or later Red Hat Compatible kernel: el7.x86_64 or later o Oracle Linux 6.x Red Hat compatible Kernel 27 Update 2 or higher - Oracle Unbreakable Enterprise Kernel (UEK R2) or higher Update 4 or higher - Oracle Unbreakable Enterprise Kernel (UEK R3) or higher o Oracle Linux 5 Update 6 o Red Hat Enterprise Linux 7 ( only) with the following kernels: Red Hat kernel el7.x86_64 or later Oracle Unbreakable Enterprise Kernel: el7uek.x86_64 or later o Red Hat Enterprise Linux 6 o Red Hat Enterprise Linux 5 Update 6 o SLES 11 SP2: or later See Oracle Database Installation Guide 12c Release 1 (12.1) for Linux, Chapter for supported kernels and package information for all the above Linux versions. Always check the Release Notes to find out about known issues and limitations. These are often updated after the release to include new information. Oracle 12C RAC New feature Oracle Flex Cluster
Oracle Flex Clusters contain two types of nodes arranged in a hub and spoke architecture: Hub Nodes and Leaf Nodes. The number of Hub Nodes in an Oracle Flex Cluster can be as many as 64. The number of Leaf Nodes can be many more. Hub Nodes and Leaf Nodes can host different types of applications. Hub Nodes are similar to Oracle Grid Infrastructure nodes in an Oracle Clusterware standard Cluster configuration: they are tightly connected, and have direct access to shared storage. In an Oracle Flex Cluster configuration, shared storage can be provisioned to Leaf Nodes independent of the Oracle Grid Infrastructure. Leaf Nodes are different from standard Oracle Grid Infrastructure nodes, in that they do not require direct access to shared storage, but instead request data through Hub Nodes. Hub Nodes can run in an Oracle Flex Cluster configuration without having any Leaf Nodes as cluster member nodes, but Leaf Nodes must be members of a cluster that includes at least one Hub Node. Hub Node A node in and Oracle Flex Cluster that is tightly connected with other servers and has direct access to a shared disk. Leaf Node Servers that are loosely coupled with Hub Nodes, which may not have direct access to the shared storage Difference between Hub Nodes and Leaf Nodes Hub Nodes: Direct access to the shared storage They can access the Oracle Cluster Registry (OCR) and Voting Disk (VD) directly We can run an ASM instance on them. We can run database instance on them as well Leaf Nodes: It's part of the cluster as well, but cannot direct access to the shared storage They connected to the cluster via the Hub Node that is linked to It does run Grid Infrastructure, but cannot run as ASM/Database instances. We can deploy Fusion Middleware,weblogic on them 3 8 Oracle Flex ASM Oracle Flex ASM is an ASM instance which will be running in the cluster based on cardinality defined. The default cardinality is three, but you can change it using srvctl modify asm command. It means that ASM is not required to run on each node in the cluster. In previous release, ASM will be running on each node in the cluster and ASM clients (Database,ACFS,ADVM) can only access ASM by using an ASM on the same host. With Oracle Flex ASM, the clients can connect to remote ASM using network connection (ie ASM network ).If a server running an ASM instance fails, Oracle Clusterware will start a new ASM instance on a different server to maintain the cardinality. If a 12c database instance is using a particular ASM instance, and that instance is lost because of a server crash or ASM instance failure, then the Oracle 12c database instance will reconnect to an existing ASM instance on another node. These features are collectively called Oracle Flex ASM. Note: If you choose to install an Oracle Flex Cluster, Oracle Flex ASM is enabled by default because an Oracle Flex Cluster requires Oracle Flex ASM. 4
9 Create VMware Server and install OEL Create vmware server 5
10 6
11 7 12 Note: At least 3G memory for each OS 8 13 9 14 10 15 11 16 12 17 Install Oracle Linux 7.2 Set datetime,language,password 13
18 14 19 15 20 16 21 17 22 18 23 Reboot and Accept License 19
24 20
25 21
26 22 27 OS pre-requirement Setting for /dev/shm tmpfs /dev/shm tmpfs defaults,size=3072m 0 0 make sure at least 3G or it will not succeded. Config yum repository ~]# cd /etc/yum.repos.d/ yum.repos.d]# pwd /etc/yum.repos.d yum.repos.d]# ls public-yum-ol7.repo yum.repos.d]# cp public-yum-ol7.repo public-yum-ol7.repo.bak yum.repos.d]# vi public-yum-ol7.repo [OEL72] name=oel72 baseurl=file:///run/media/root/ol-7.2\ Server.x86_64/ gpgcheck=0 enabled=1 ~ "public-yum-ol7.repo" 5L, 94C written yum.repos.d]# yum.repos.d]# yum.repos.d]# cat public-yum-ol7.repo [OEL72] name=oel72 baseurl=file:///run/media/root/ol-7.2\ Server.x86_64/ gpgcheck=0 enabled=1 yum.repos.d]# Packages]# ls -l grep oracle -rw-rw-r--. 1 root root Nov 22 02:24 kmod-oracleasm el7.x86_64.rpm 23 28 -rw-r--r--. 1 root root Jul oracleasm-support el7.x86_64.rpm -rw-rw-r--. 1 root root Nov 26 01:24 oraclelinux-release el7.x86_64.rpm -rw-r--r--. 1 root root Jun oracle-logos el7.noarch.rpm -rw-rw-r--. 1 root root Oct 14 14:24 oracle-rdbms-server-11gr2-preinstall el7.x86_64.rpm -rw-rw-r--. 1 root root Oct 14 14:18 oracle-rdbms-server-12cr1-preinstall el7.x86_64.rpm yum.repos.d]# Install 12cR1 preinstall package Packages]# yum install oracle-rdbms-server-12cr1-preinstall -y 24 29 Run 12cR1-preinstall-verify Packages]# oracle-rdbms-server-12cr1-preinstall-verify /bin/sed: -e expression #1, char 116: unknown command: `3' /bin/sed: -e expression #1, char 116: unknown command: `3' Packages]# Packages]# oracle-rdbms-server-12cr1-preinstall]# diff oracle-rdbms-server-12cr1-preinstall-verify oracle-rdbms-server-12cr1-preinstall-verify.bak 542c542 < ${SED} -i /'^#[[:space:]]*$comment'/d ${LIMITSFILE} --- > ${SED} -i /"^#[[:space:]]*$comment"/d ${LIMITSFILE} 570c570 < ${SED} -i /'^#[[:space:]]*$comment'/d ${LIMITSFILE} --- > ${SED} -i /"^#[[:space:]]*$comment"/d ${LIMITSFILE} oracle-rdbms-server-12cr1-preinstall]# Review Verify Result results]# cat orakernel.log Adding group oinstall with gid groupadd: group 'oinstall' already exists Adding group dba groupadd: group 'dba' already exists User oracle is already present uid=54321(oracle) gid=54321(oinstall) groups=54321(oinstall),54322(dba) Creating oracle user passed Verifying kernel parameters as per Oracle recommendations... fs.file-max is matching with preinstall config. fs.file-max =30 kernel.sem is matching with preinstall config. kernel.sem = kernel.shmmni is matching with preinstall config. kernel.shmmni = 4096 kernel.shmall is matching with preinstall config. kernel.shmall = kernel.shmmax is matching with preinstall config. kernel.shmmax = kernel.panic_on_oops is matching with preinstall config. kernel.panic_on_oops = 1 net.core.rmem_default is matching with preinstall config. net.core.rmem_default = net.core.rmem_max is matching with preinstall config. net.core.rmem_max = net.core.wmem_default is matching with preinstall config. net.core.wmem_default = net.core.wmem_max is matching with preinstall config. net.core.wmem_max = net.ipv4.conf.all.rp_filter is matching with preinstall config. net.ipv4.conf.all.rp_filter = 2 net.ipv4.conf.default.rp_filter is matching with preinstall config. net.ipv4.conf.default.rp_filter = 2 fs.aio-max-nr is matching with preinstall config. fs.aio-max-nr = net.ipv4.ip_local_port_range is matching with preinstall config. net.ipv4.ip_local_port_range = Setting kernel parameters as per oracle recommendations... Altered file /etc/sysctl.conf Original file backed up at /etc/sysctl.conf.orabackup Verifying & setting of kernel parameters passed Setting user limits using /etc/security/limits.d/oracle-rdbms-server-12cr1-preinstall.conf Verifying oracle user OS limits as per Oracle recommendations... oracle soft nofile 1024 nofile soft limit is matching with preinstall config. oracle hard nofile nofile hard limit is matching with preinstall config. oracle soft nproc nproc soft limit is matching with preinstall config. oracle hard nproc nproc hard limit is matching with preinstall config. oracle soft stack stack soft limit is matching with preinstall config. oracle hard stack stack hard limit is matching with preinstall config. oracle hard memlock memlock hard limit is matching with preinstall config. oracle soft memlock memlock soft limit is matching with preinstall config. Setting oracle user OS limits as per Oracle recommendations... Altered file /etc/security/limits.d/oracle-rdbms-server-12cr1-preinstall.conf Original file backed up at /var/log/oracle-rdbms-server-12cr1-preinstall/backup/jan Verifying & setting of user limits passed 2631 Verifying kernel boot parameters as per Oracle recommendations... numa=off already present transparent_hugepage=never already present Verifying & setting of boot parameters passed Trying to add NOZEROCONF parameter... Parameter already present Setting /etc/sysconfig/network parameters passed Taking a backup of old config files under /var/log/oracle-rdbms-server-12cr1-preinstall/backup/jan results]# Configure /etc/hosts ~]# cat /etc/hosts localhost localhost.localdomain localhost4 localhost4.localdomain4 ::1 localhost localhost.localdomain localhost6 localhost6.localdomain prod1 prod1.us.oracle.com prod1-vip prod2 prod2.us.oracle.com prod2-vip prod1-priv prod1-priv prod-scan Create user The preinstall package will create oracle user groupadd -g asmadmin groupadd -g asmdba groupadd -g asmoper useradd -g oinstall -G asmadmin,asmdba,asmoper orgrid usermod -g oinstall -G dba,asmdba oracle ~]# id oracle uid=54321(oracle) gid=54321(oinstall) groups=54321(oinstall),54322(dba) ~]# groupmod -g oinstall ~]# groupmod -g dba ~]# groupadd -g asmadmin ~]# groupadd -g asmdba ~]# groupadd -g asmoper ~]# ~]# id oracle uid=54321(oracle) gid=20000(oinstall) groups=20000(oinstall),20001(dba) ~]# useradd -g oinstall -G asmadmin,asmdba,asmoper orgrid ~]# usermod -g oinstall -G dba,asmdba oracle ~]# passwd oracle 27 32 Changing password for user oracle. New password: BAD PASSWORD: The password fails the dictionary check - it is based on a dictionary word Retype new password: passwd: all authentication tokens updated successfully. ~]# passwd orgrid Changing password for user orgrid. New password: BAD PASSWORD: The password fails the dictionary check - it is based on a dictionary word Retype new password: passwd: all authentication tokens updated successfully. ~]# Create directory and change permissions mkdir -p /orgrid/grid_base mkdir -p /orgrid/oracle/product/121 mkdir -p /ordb/oracle/product/121 chown -R oracle.oinstall /ordb chown -R orgrid.oinstall /orgrid Configure /etc/selinux/config selinux=disabled Configure /etc/security/limits.conf orpemrep soft nproc 4096 orpemrep hard nproc orpemrep soft nofile 4096 orpemrep hard nofile Configure /etc/pam.d/login session required pam_limits.so 2833 Configure /etc/sysctl.conf fs.file-max = kernel.sem = kernel.shmmni = 4096 kernel.shmall = kernel.shmmax = kernel.panic_on_oops = 1 net.core.rmem_default = net.core.rmem_max = net.core.wmem_default = net.core.wmem_max = net.ipv4.conf.all.rp_filter = 2 net.ipv4.conf.default.rp_filter = 2 fs.aio-max-nr = net.ipv4.ip_local_port_range = Disable firewall ~]# firewall-cmd --state running ~]# systemctl disable firewalld Removed symlink /etc/systemd/system/basic.target.wants/firewalld.service. Removed symlink /etc/systemd/system/dbus-org.fedoraproject.firewalld1.service. ~]# systemctl stop firewalld ~]# firewall-cmd --state not running ~]# ~]# systemctl list-unit-files grep firewall firewalld.service disabled ~]# ~]# hostnamectl Static hostname: prod1.us.oracle.com Icon name: computer-vm Chassis: vm Machine ID: 5b9c4aeee63e4dcdb81da60a7a913c57 Boot ID: bd380cc85f1d4ec684751a5d4acd934a Virtualization: vmware Operating System: Oracle Linux Server 7.2 CPE OS Name: cpe:/o:oracle:linux:7:2:server Kernel: Linux el7uek.x86_64 Architecture: x86-64 ~]# 2934 Install and Config ASM oracleasmlib is optional. If you install it, it will list the disk automatically. If you do not install it, the disk discovery path is /dev/oracleasm/disks/* ~]# rpm -ivh oracleasmlib el7.x86_64.rpm warning: oracleasmlib el7.x86_64.rpm: Header V3 RSA/SHA256 Signature, key ID ec551f03: NOKEY Preparing... ################################# [100%] Updating / installing... 1:oracleasmlib el7 ################################# [100%] ~]# ~]# Packages]# oracleasm configure ORACLEASM_UID= ORACLEASM_GID= ORACLEASM_SCANBOOT=true ORACLEASM_SCANORDER="" ORACLEASM_SCANEXCLUDE="" ORACLEASM_USE_LOGICAL_BLOCK_SIZE="false" Packages]# oracleasm configure -i Configuring the Oracle ASM library driver. This will configure the on-boot properties of the Oracle ASM library driver. The following questions will determine whether the driver is loaded on boot and what permissions it will have. The current values 3035 will be shown in brackets ('[]'). Hitting <ENTER> without typing an answer will keep that current value. Ctrl-C will abort. Default user to own the driver interface []: orgrid Default group to own the driver interface []: asmadmin Scan for Oracle ASM disks on boot (y/n) [y]: Writing Oracle ASM library driver configuration: done Packages]# oracleasm configure ORACLEASM_UID=orgrid ORACLEASM_GID=oinstall ORACLEASM_SCANBOOT=true ORACLEASM_SCANORDER="" ORACLEASM_SCANEXCLUDE="" ORACLEASM_USE_LOGICAL_BLOCK_SIZE="false" Packages]# /etc/init.d/oracleasm enable Please run 'systemctl enable oracleasm.service' to enable oracleasm Packages]# systemctl enable oracleasm.service Packages]# Packages]# oracleasm configure ORACLEASM_UID=orgrid ORACLEASM_GID=asmadmin ORACLEASM_SCANBOOT=true ORACLEASM_SCANORDER="" ORACLEASM_SCANEXCLUDE="" ORACLEASM_USE_LOGICAL_BLOCK_SIZE="false" Packages]# Install and config VMware Tools Packages]# yum install kernel-uek-devel Loaded plugins: langpacks, ulninfo Resolving Dependencies --> Running transaction check ---> Package kernel-uek-devel.x86_64 0: el7uek will be installed --> Processing Dependency: libdtrace-ctf for package: kernel-uek-devel el7uek.x86_64 --> Running transaction check ---> Package libdtrace-ctf.x86_64 0: el7 will be installed --> Finished Dependency Resolution Dependencies Resolved ============================================================================================================================================== Package Arch Version Repository Size ============================================================================================================================================== Installing: kernel-uek-devel x86_ el7uek OEL M Installing for dependencies: libdtrace-ctf x86_ el7 OEL72 30 k Transaction Summary ============================================================================================================================================== Install 1 Package (+1 Dependent package) Total download size: 9.1 M Installed size: 32 M Is this ok [y/d/n]: y Downloading packages: Total 50 MB/s 9.1 MB 00:00:00 Running transaction check Running transaction test Transaction test succeeded Running transaction Installing : libdtrace-ctf el7.x86_64 1/2 Installing : kernel-uek-devel el7uek.x86_64 2/2 Verifying : kernel-uek-devel el7uek.x86_64 1/2 Verifying : libdtrace-ctf el7.x86_64 2/2 Installed: kernel-uek-devel.x86_64 0: el7uek Dependency Installed: libdtrace-ctf.x86_64 0: el7 Complete! Packages]# 31 36 ~]# cd /run/media/root/vmware\ Tools/ VMware Tools]# ls manifest.txt run_upgrader.sh VMwareTools tar.gz vmware-tools-upgrader-32 vmware-tools-upgrader-64 VMware Tools]# VMware Tools]# cp VMwareTools tar.gz /tmp/ ~]# cd /tmp/ tmp]# tmp]# tar zxvf VMwareTools tar.gz vmware-tools-distrib/bin/vmware-uninstall-tools.pl vmware-tools-distrib/install vmware-tools-distrib/installer/ vmware-tools-distrib/installer/upstart-job.conf vmware-tools-distrib/installer/thinprint.sh vmware-tools-distrib/installer/thinprint.conf vmware-tools-distrib/installer/services.sh tmp]# tmp]# cd vmware-tools-distrib/ vmware-tools-distrib]# ls bin doc etc FILES INSTALL installer lib vmware-install.pl vmware-tools-distrib]#./vmware-install.pl vmware-tools-distrib]# vmware-config-tools.pl Shutdown PROD1 ~]$ shutdown -h now User root is logged in on sshd. User root is logged in on sshd. User root is logged in on sshd. User root is logged in on sshd. User root is logged in on seat0. Please retry operation after closing inhibitors and logging out other users. Alternatively, ignore inhibitors and users with 'systemctl poweroff -i'. ~]$ systemctl poweroff -i ==== AUTHENTICATING FOR org.freedesktop.login1.power-off-multiple-sessions === Authentication is required for powering off the system while other users are logged in. Authenticating as: ohsdba Password: ==== AUTHENTICATION COMPLETE === ~]$ Of course, you can shutdown the server with below command as root systemctl poweroff 32
37 Clone PROD1 to PROD2 Copy prod1 and rename it to prod2 Modify hostname to prod2 Desktop]# hostnamectl Static hostname: prod1.us.oracle.com Icon name: computer-vm Chassis: vm Machine ID: 5b9c4aeee63e4dcdb81da60a7a913c57 Boot ID: 41dc52a7a6af4d7abd539eb8348defbf Virtualization: vmware Operating System: Oracle Linux Server 7.2 CPE OS Name: cpe:/o:oracle:linux:7:2:server Kernel: Linux el7uek.x86_64 Architecture: x86-64 Desktop]# hostnamectl set-hostname prod2.us.oracle.com --static Desktop]# hostnamectl Static hostname: prod2.us.oracle.com Transient hostname: prod1.us.oracle.com Icon name: computer-vm Chassis: vm Machine ID: 5b9c4aeee63e4dcdb81da60a7a913c57 Boot ID: 41dc52a7a6af4d7abd539eb8348defbf Virtualization: vmware Operating System: Oracle Linux Server38 CPE OS Name: cpe:/o:oracle:linux:7:2:server Kernel: Linux el7uek.x86_64 Architecture: x86-64 Desktop]# Desktop]# hostnamectl Static hostname: prod2.us.oracle.com Icon name: computer-vm Chassis: vm Machine ID: d2278f3d01074f8c86a072d31337d1e9 Boot ID: 1b64f5c2b af7332efc219c13b Virtualization: vmware Operating System: Oracle Linux Server 7.2 CPE OS Name: cpe:/o:oracle:linux:7:2:server Kernel: Linux el7uek.x86_64 Architecture: x86-64 Desktop]# Change ip address on prod2 ~]# cat /etc/hosts localhost localhost.localdomain localhost4 localhost4.localdomain4 ::1 localhost localhost.localdomain localhost6 localhost6.localdomain prod1 prod1.us.oracle.com prod1-vip prod2 prod2.us.oracle.com prod2-vip prod1-priv prod2-priv prod-scan ~]# ~]# nmcli device status DEVICE TYPE STATE CONNECTION eno ethernet connected eno eno ethernet connected Profile1 virbr0 bridge disconnected -- virbr0-nic ethernet disconnected -- lo loopback unmanaged -- ~]# ip addr show 1: lo: <LOOPBACK,UP,LOWER_UP> mtu qdisc noqueue state UNKNOWN link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00 inet /8 scope host lo inet6 ::1/128 scope host valid_lft forever preferred_lft forever 2: eno : <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast state UP qlen 1000 link/ether 00:0c:29:7e:c0:28 brd ff:ff:ff:ff:ff:ff inet /24 brd scope global eno inet /24 brd scope global secondary eno :1 inet6 fe80::20c:29ff:fe7e:c028/64 scope link valid_lft forever preferred_lft forever 3: eno : <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast state UP qlen 1000 link/ether 00:0c:29:7e:c0:32 brd ff:ff:ff:ff:ff:ff 34 39 inet /24 brd scope global eno inet /16 brd scope global eno :1 inet6 fe80::20c:29ff:fe7e:c032/64 scope link valid_lft forever preferred_lft forever 4: virbr0: <NO-CARRIER,BROADCAST,MULTICAST,UP> mtu 1500 qdisc noqueue state DOWN link/ether 52:54:00:7e:58:12 brd ff:ff:ff:ff:ff:ff inet /24 brd scope global virbr0 5: virbr0-nic: <BROADCAST,MULTICAST> mtu 1500 qdisc pfifo_fast master virbr0 state DOWN qlen 500 link/ether 52:54:00:7e:58:12 brd ff:ff:ff:ff:ff:ff ~]# Shutdown PROD2 ~]$systemctl poweroff Add Shared disk Step On PROD1 35 40 3641 37 42 Note: you must allocate the disk space immediately 38 43 39 44 Create partitions on PROD1 ~]# ~]# fdisk /dev/sdb Welcome to fdisk (util-linux ). Changes will remain in memory only, until you decide to write them. Be careful before using the write command. Device does not contain a recognized partition table Building a new DOS disklabel with disk identifier 0x25952bb8. Command (m for help): n Partition type: p primary (0 primary, 0 extended, 4 free) e extended Select (default p): Using default response p Partition number (1-4, default 1): First sector ( , default 2048): Using default value45 Last sector, +sectors or +size{k,m,g} ( , default ): +4G Partition 1 of type Linux and of size 4 GiB is set Command (m for help): n Partition type: p primary (1 primary, 0 extended, 3 free) e extended Select (default p): Using default response p Partition number (2-4, default 2): First sector ( , default ): Using default value Last sector, +sectors or +size{k,m,g} ( , default ): +8G Partition 2 of type Linux and of size 8 GiB is set Command (m for help): n Partition type: p primary (2 primary, 0 extended, 2 free) e extended Select (default p): Using default response p Partition number (3,4, default 3): First sector ( , default ): Using default value Last sector, +sectors or +size{k,m,g} ( , default ): Using default value Partition 3 of type Linux and of size 8 GiB is set Command (m for help): p Disk /dev/sdb: 21.5 GB, bytes, sectors Units = sectors of 1 * 512 = 512 bytes Sector size (logical/physical): 512 bytes / 512 bytes I/O size (minimum/optimal): 512 bytes / 512 bytes Disk label type: dos Disk identifier: 0x25952bb8 Device Boot Start End Blocks Id System /dev/sdb Linux /dev/sdb Linux /dev/sdb Linux Command (m for help): w The partition table has been altered! Calling ioctl() to re-read partition table. Syncing disks. ~]# fdisk -l grep sdb Disk /dev/sdb: 21.5 GB, bytes, sectors /dev/sdb Linux /dev/sdb Linux /dev/sdb Linux ~]# 4146 Create and Verify ASM disks ~]# oracleasm createdisk ASMDISK1 /dev/sdb1 Writing disk header: done Instantiating disk: done ~]# oracleasm createdisk ASMDISK2 /dev/sdb2 Writing disk header: done Instantiating disk: done ~]# oracleasm createdisk ASMDISK3 /dev/sdb3 Writing disk header: done Instantiating disk: done ~]# oracleasm exit Unmounting ASMlib driver filesystem: /dev/oracleasm Unloading module "oracleasm": oracleasm ~]# oracleasm init Loading module "oracleasm": oracleasm Configuring "oracleasm" to use device physical block size Mounting ASMlib driver filesystem: /dev/oracleasm ~]# oracleasm scandisks Reloading disk partitions: done Cleaning any stale ASM disks... Scanning system for ASM disks... Instantiating disk "ASMDISK1" Instantiating disk "ASMDISK2" Instantiating disk "ASMDISK3" ~]# oracleasm listdisks ASMDISK1 ASMDISK2 ASMDISK3 ~]# ls -l /dev/oracleasm/disks/ total 0 brw-rw orgrid asmadmin 8, 17 Jan 10 20:26 ASMDISK1 brw-rw orgrid asmadmin 8, 18 Jan 10 20:26 ASMDISK2 brw-rw orgrid asmadmin 8, 19 Jan 10 20:26 ASMDISK3 ~]# oracleasm configure ORACLEASM_UID=orgrid ORACLEASM_GID=asmadmin ORACLEASM_SCANBOOT=true ORACLEASM_SCANORDER="" ORACLEASM_SCANEXCLUDE="" ORACLEASM_USE_LOGICAL_BLOCK_SIZE="false" ~]# Shared disk setting for prod1 scsi1.present = "TRUE" scsi1.virtualdev = "lsilogic" scsi1:0.present = "TRUE" scsi1:0.filename = "G:\12c\12c_RAC\sdisk\sd.vmdk" scsi1:0.mode = "independent-persistent" scsi1:0.redo = "" disk.locking ="FALSE" disklib.datacachemaxsize="0" disklib.datacachemaxreadaheadsize="0" disklib.datacacheminreadaheadsize="0" disklib.datacachepagesize="4096" disklib.maxunsyncedwrites="0" 42 47 scsi1:0.devicetype = "disk" disk.locking = "false" Step on PROD2 43
48 4449 Shared disk setting for prod2 scsi1.present = "TRUE" scsi1.virtualdev = "lsilogic" scsi1:0.present = "TRUE" scsi1:0.filename = "G:\12c\12c_RAC\sdisk\sd.vmdk" scsi1:0.mode = "independent-persistent" scsi1:0.redo = "" disk.locking ="FALSE" disklib.datacachemaxsize="0" disklib.datacachemaxreadaheadsize="0" disklib.datacacheminreadaheadsize="0" disklib.datacachepagesize="4096" disklib.maxunsyncedwrites="0" scsi1:0.devicetype = "disk" disk.locking = "false" Install Grid Infrastructure Add shared folder 45 50 ~]# vmware-hgfsclient ~]# Desktop]# xhost + access control disabled, clients can connect from any host Desktop]# su - orgrid Last login: Thu Jan 7 10:01:31 CST 2016 on pts/1 ~]$ export DISPLAY=:0.0 ~]$ cd /mnt/hgfs/12102/grid/ grid]$./runinstaller Starting Oracle Universal Installer... Checking Temp space: must be greater than 415 MB. Actual MB Passed Checking swap space: must be greater than 150 MB. Actual 2047 MB Passed Checking monitor: must be configured to display at least 256 colors. Actual Passed Preparing to launch Oracle Universal Installer from /tmp/orainstall _ AM. Please grid]$ 46 51 47 52 48 53 49 54 50 55 cluster name will be one pdb name for MGMTDB, you can check it in MGMTDB Status steps. 51 56 52 57 53 58 54 59 Choose ASM & Private 55 60 Note: If you choose 'ASM & Private' in above step, you cannot choose the first option at this time 56 61 Choose Use Oracle Flex ASM for storage 57 62 Note: at least 5G disk space for OCR and Voting disk and MGMTDB 58 63 59 64 Note: If you do not install oracleasmlib, the disk path is /dev/oracleasm/disks/* 60 65 61 66 62 67 63 68 64 69 65 70 66 71 67 72 68 73 Execute fixup script for both nodes ~]# cd /tmp/cvu_ _orgrid/ CVU_ _orgrid]#./runfixup.sh All Fix-up operations were completed successfully. CVU_ _orgrid]# pwd /tmp/cvu_ _orgrid CVU_ _orgrid]# ssh prod2 /tmp/cvu_ _orgrid/runfixup.sh The authenticity of host 'prod2 ( )' can't be established. ECDSA key fingerprint is 21:2d:08:df:72:65:3e:57:e5:02:7a:c0:19:3c:29:bc. Are you sure you want to continue connecting (yes/no)? yes Warning: Permanently added 'prod2, ' (ECDSA) to the list of known hosts. password: All Fix-up operations were completed successfully. CVU_ _orgrid]# 69 74 70 75 71
76 72 77 Execute orainstroot.sh on both nodes ~]# /orgrid/orainventory/orainstroot.sh Changing permissions of /orgrid/orainventory. Adding read,write permissions for group. Removing read,write,execute permissions for world. Changing groupname of /orgrid/orainventory to oinstall. The execution of the script is complete. ~]# ssh prod2 /orgrid/orainventory/orainstroot.sh password: Changing permissions of /orgrid/orainventory. Adding read,write permissions for group. Removing read,write,execute permissions for world. Changing groupname of /orgrid/orainventory to oinstall. The execution of the script is complete. ~]# Execute root.sh on PROD1 ~]# ~]# cd /orgrid/oracle/product/121/ 121]#./root.sh Performing root user operation. 7378 The following environment variables are set as: ORACLE_OWNER= orgrid ORACLE_HOME= /orgrid/oracle/product/121 Enter the full pathname of the local bin directory: [/usr/local/bin]: Copying dbhome to /usr/local/bin... Copying oraenv to /usr/local/bin... Copying coraenv to /usr/local/bin... Creating /etc/oratab file... Entries will be added to the /etc/oratab file as needed by Database Configuration Assistant when a database is created Finished running generic part of root script. Now product-specific root actions will be performed. Using configuration parameter file: /orgrid/oracle/product/121/crs/install/crsconfig_params 2016/01/11 11:08:58 CLSRSC-4001: Installing Oracle Trace File Analyzer (TFA) Collector. 2016/01/11 11:09:25 CLSRSC-4002: Successfully installed Oracle Trace File Analyzer (TFA) Collector. 2016/01/11 11:09:26 CLSRSC-363: User ignored prerequisites during installation OLR initialization - successful root wallet root wallet cert root cert export peer wallet profile reader wallet pa wallet peer wallet keys pa wallet keys peer cert request pa cert request peer cert pa cert peer root cert TP profile reader root cert TP pa root cert TP peer pa cert TP pa peer cert TP profile reader pa cert TP profile reader peer cert TP peer user cert pa user cert 2016/01/11 11:10:20 CLSRSC-330: Adding Clusterware entries to file 'oracle-ohasd.service' CRS-4133: Oracle High Availability Services has been stopped. CRS-4123: Oracle High Availability Services has been started. CRS-4133: Oracle High Availability Services has been stopped. CRS-4123: Oracle High Availability Services has been started. CRS-2672: Attempting to start 'ora.evmd' on 'prod1' CRS-2672: Attempting to start 'ora.mdnsd' on 'prod1' CRS-2676: Start of 'ora.evmd' on 'prod1' succeeded CRS-2676: Start of 'ora.mdnsd' on 'prod1' succeeded 7479 CRS-2672: Attempting to start 'ora.gpnpd' on 'prod1' CRS-2676: Start of 'ora.gpnpd' on 'prod1' succeeded CRS-2672: Attempting to start 'ora.cssdmonitor' on 'prod1' CRS-2672: Attempting to start 'ora.gipcd' on 'prod1' CRS-2676: Start of 'ora.cssdmonitor' on 'prod1' succeeded CRS-2676: Start of 'ora.gipcd' on 'prod1' succeeded CRS-2672: Attempting to start 'ora.cssd' on 'prod1' CRS-2672: Attempting to start 'ora.diskmon' on 'prod1' CRS-2676: Start of 'ora.diskmon' on 'prod1' succeeded CRS-2676: Start of 'ora.cssd' on 'prod1' succeeded ASM created and started successfully. Disk Group SYSTEMDG created successfully. CRS-2672: Attempting to start 'ora.crf' on 'prod1' CRS-2672: Attempting to start 'ora.storage' on 'prod1' CRS-2676: Start of 'ora.storage' on 'prod1' succeeded CRS-2676: Start of 'ora.crf' on 'prod1' succeeded CRS-2672: Attempting to start 'ora.crsd' on 'prod1' CRS-2676: Start of 'ora.crsd' on 'prod1' succeeded CRS-4256: Updating the profile Successful addition of voting disk 5b0da9e9e5af4fb7bf691418fcd Successfully replaced voting disk group with +SYSTEMDG. CRS-4256: Updating the profile CRS-4266: Voting file(s) successfully replaced ## STATE File Universal Id File Name Disk group ONLINE 5b0da9e9e5af4fb7bf691418fcd22010 (ORCL:ASMDISK3) [SYSTEMDG] Located 1 voting disk(s). CRS-2791: Starting shutdown of Oracle High Availability Services-managed resources on 'prod1' CRS-2673: Attempting to stop 'ora.crsd' on 'prod1' CRS-2677: Stop of 'ora.crsd' on 'prod1' succeeded CRS-2673: Attempting to stop 'ora.mdnsd' on 'prod1' CRS-2673: Attempting to stop 'ora.storage' on 'prod1' CRS-2673: Attempting to stop 'ora.gpnpd' on 'prod1' CRS-2677: Stop of 'ora.storage' on 'prod1' succeeded CRS-2673: Attempting to stop 'ora.crf' on 'prod1' CRS-2673: Attempting to stop 'ora.ctssd' on 'prod1' CRS-2673: Attempting to stop 'ora.evmd' on 'prod1' CRS-2673: Attempting to stop 'ora.asm' on 'prod1' CRS-2677: Stop of 'ora.mdnsd' on 'prod1' succeeded CRS-2677: Stop of 'ora.gpnpd' on 'prod1' succeeded CRS-2677: Stop of 'ora.crf' on 'prod1' succeeded CRS-2677: Stop of 'ora.ctssd' on 'prod1' succeeded CRS-2677: Stop of 'ora.evmd' on 'prod1' succeeded CRS-2677: Stop of 'ora.asm' on 'prod1' succeeded CRS-2673: Attempting to stop 'ora.cluster_interconnect.haip' on 'prod1' CRS-2677: Stop of 'ora.cluster_interconnect.haip' on 'prod1' succeeded CRS-2673: Attempting to stop 'ora.cssd' on 'prod1' CRS-2677: Stop of 'ora.cssd' on 'prod1' succeeded CRS-2673: Attempting to stop 'ora.gipcd' on 'prod1' CRS-2677: Stop of 'ora.gipcd' on 'prod1' succeeded CRS-2793: Shutdown of Oracle High Availability Services-managed resources on 'prod1' has completed 7580 CRS-4133: Oracle High Availability Services has been stopped. CRS-4123: Starting Oracle High Availability Services-managed resources CRS-2672: Attempting to start 'ora.mdnsd' on 'prod1' CRS-2672: Attempting to start 'ora.evmd' on 'prod1' CRS-2676: Start of 'ora.evmd' on 'prod1' succeeded CRS-2676: Start of 'ora.mdnsd' on 'prod1' succeeded CRS-2672: Attempting to start 'ora.gpnpd' on 'prod1' CRS-2676: Start of 'ora.gpnpd' on 'prod1' succeeded CRS-2672: Attempting to start 'ora.gipcd' on 'prod1' CRS-2676: Start of 'ora.gipcd' on 'prod1' succeeded CRS-2672: Attempting to start 'ora.cssdmonitor' on 'prod1' CRS-2676: Start of 'ora.cssdmonitor' on 'prod1' succeeded CRS-2672: Attempting to start 'ora.cssd' on 'prod1' CRS-2672: Attempting to start 'ora.diskmon' on 'prod1' CRS-2676: Start of 'ora.diskmon' on 'prod1' succeeded CRS-2676: Start of 'ora.cssd' on 'prod1' succeeded CRS-2672: Attempting to start 'ora.cluster_interconnect.haip' on 'prod1' CRS-2672: Attempting to start 'ora.ctssd' on 'prod1' CRS-2676: Start of 'ora.ctssd' on 'prod1' succeeded CRS-2676: Start of 'ora.cluster_interconnect.haip' on 'prod1' succeeded CRS-2672: Attempting to start 'ora.asm' on 'prod1' CRS-2676: Start of 'ora.asm' on 'prod1' succeeded CRS-2672: Attempting to start 'ora.storage' on 'prod1' CRS-2676: Start of 'ora.storage' on 'prod1' succeeded CRS-2672: Attempting to start 'ora.crf' on 'prod1' CRS-2676: Start of 'ora.crf' on 'prod1' succeeded CRS-2672: Attempting to start 'ora.crsd' on 'prod1' CRS-2676: Start of 'ora.crsd' on 'prod1' succeeded CRS-6023: Starting Oracle Cluster Ready Services-managed resources CRS-6017: Processing resource auto-start for servers: prod1 CRS-6016: Resource auto-start has completed for server prod1 CRS-6024: Completed start of Oracle Cluster Ready Services-managed resources CRS-4123: Oracle High Availability Services has been started. 2016/01/11 11:14:43 CLSRSC-343: Successfully started Oracle Clusterware stack CRS-2672: Attempting to start 'ora.asmnet1lsnr_asm.lsnr' on 'prod1' CRS-2676: Start of 'ora.asmnet1lsnr_asm.lsnr' on 'prod1' succeeded CRS-2672: Attempting to start 'ora.asm' on 'prod1' CRS-2676: Start of 'ora.asm' on 'prod1' succeeded CRS-2672: Attempting to start 'ora.systemdg.dg' on 'prod1' CRS-2676: Start of 'ora.systemdg.dg' on 'prod1' succeeded CRS-2791: Starting shutdown of Oracle High Availability Services-managed resources on 'prod1' CRS-2673: Attempting to stop 'ora.crsd' on 'prod1' CRS-2790: Starting shutdown of Cluster Ready Services-managed resources on 'prod1' CRS-2673: Attempting to stop 'ora.systemdg.dg' on 'prod1' CRS-2673: Attempting to stop 'ora.listener_scan1.lsnr' on 'prod1' CRS-2673: Attempting to stop 'ora.oc4j' on 'prod1' CRS-2673: Attempting to stop 'ora.cvu' on 'prod1' CRS-2673: Attempting to stop 'ora.prod1.vip' on 'prod1' CRS-2677: Stop of 'ora.cvu' on 'prod1' succeeded CRS-2677: Stop of 'ora.systemdg.dg' on 'prod1' succeeded CRS-2673: Attempting to stop 'ora.asm' on 'prod1' CRS-2677: Stop of 'ora.asm' on 'prod1' succeeded CRS-2673: Attempting to stop 'ora.asmnet1lsnr_asm.lsnr' on 'prod1' 7681 CRS-2677: Stop of 'ora.prod1.vip' on 'prod1' succeeded CRS-2677: Stop of 'ora.asmnet1lsnr_asm.lsnr' on 'prod1' succeeded CRS-2677: Stop of 'ora.listener_scan1.lsnr' on 'prod1' succeeded CRS-2673: Attempting to stop 'ora.scan1.vip' on 'prod1' CRS-2677: Stop of 'ora.scan1.vip' on 'prod1' succeeded CRS-2677: Stop of 'ora.oc4j' on 'prod1' succeeded CRS-2673: Attempting to stop 'ora.ons' on 'prod1' CRS-2677: Stop of 'ora.ons' on 'prod1' succeeded CRS-2673: Attempting to stop 'ora.net1.network' on 'prod1' CRS-2677: Stop of 'ora.net1.network' on 'prod1' succeeded CRS-2792: Shutdown of Cluster Ready Services-managed resources on 'prod1' has completed CRS-2677: Stop of 'ora.crsd' on 'prod1' succeeded CRS-2673: Attempting to stop 'ora.gpnpd' on 'prod1' CRS-2673: Attempting to stop 'ora.evmd' on 'prod1' CRS-2673: Attempting to stop 'ora.storage' on 'prod1' CRS-2673: Attempting to stop 'ora.crf' on 'prod1' CRS-2673: Attempting to stop 'ora.ctssd' on 'prod1' CRS-2673: Attempting to stop 'ora.mdnsd' on 'prod1' CRS-2677: Stop of 'ora.storage' on 'prod1' succeeded CRS-2677: Stop of 'ora.gpnpd' on 'prod1' succeeded CRS-2677: Stop of 'ora.ctssd' on 'prod1' succeeded CRS-2677: Stop of 'ora.crf' on 'prod1' succeeded CRS-2677: Stop of 'ora.mdnsd' on 'prod1' succeeded CRS-2677: Stop of 'ora.evmd' on 'prod1' succeeded CRS-2673: Attempting to stop 'ora.asm' on 'prod1' CRS-2677: Stop of 'ora.asm' on 'prod1' succeeded CRS-2673: Attempting to stop 'ora.cluster_interconnect.haip' on 'prod1' CRS-2677: Stop of 'ora.cluster_interconnect.haip' on 'prod1' succeeded CRS-2673: Attempting to stop 'ora.cssd' on 'prod1' CRS-2677: Stop of 'ora.cssd' on 'prod1' succeeded CRS-2673: Attempting to stop 'ora.gipcd' on 'prod1' CRS-2677: Stop of 'ora.gipcd' on 'prod1' succeeded CRS-2793: Shutdown of Oracle High Availability Services-managed resources on 'prod1' has completed CRS-4133: Oracle High Availability Services has been stopped. CRS-4123: Starting Oracle High Availability Services-managed resources CRS-2672: Attempting to start 'ora.mdnsd' on 'prod1' CRS-2672: Attempting to start 'ora.evmd' on 'prod1' CRS-2676: Start of 'ora.mdnsd' on 'prod1' succeeded CRS-2676: Start of 'ora.evmd' on 'prod1' succeeded CRS-2672: Attempting to start 'ora.gpnpd' on 'prod1' CRS-2676: Start of 'ora.gpnpd' on 'prod1' succeeded CRS-2672: Attempting to start 'ora.gipcd' on 'prod1' CRS-2676: Start of 'ora.gipcd' on 'prod1' succeeded CRS-2672: Attempting to start 'ora.cssdmonitor' on 'prod1' CRS-2676: Start of 'ora.cssdmonitor' on 'prod1' succeeded CRS-2672: Attempting to start 'ora.cssd' on 'prod1' CRS-2672: Attempting to start 'ora.diskmon' on 'prod1' CRS-2676: Start of 'ora.diskmon' on 'prod1' succeeded CRS-2676: Start of 'ora.cssd' on 'prod1' succeeded CRS-2672: Attempting to start 'ora.cluster_interconnect.haip' on 'prod1' CRS-2672: Attempting to start 'ora.ctssd' on 'prod1' CRS-2676: Start of 'ora.ctssd' on 'prod1' succeeded CRS-2676: Start of 'ora.cluster_interconnect.haip' on 'prod1' succeeded CRS-2672: Attempting to start 'ora.asm' on 'prod1' 7782 CRS-2676: Start of 'ora.asm' on 'prod1' succeeded CRS-2672: Attempting to start 'ora.storage' on 'prod1' CRS-2676: Start of 'ora.storage' on 'prod1' succeeded CRS-2672: Attempting to start 'ora.crf' on 'prod1' CRS-2676: Start of 'ora.crf' on 'prod1' succeeded CRS-2672: Attempting to start 'ora.crsd' on 'prod1' CRS-2676: Start of 'ora.crsd' on 'prod1' succeeded CRS-6023: Starting Oracle Cluster Ready Services-managed resources CRS-2664: Resource 'ora.systemdg.dg' is already running on 'prod1' CRS-6017: Processing resource auto-start for servers: prod1 CRS-2672: Attempting to start 'ora.net1.network' on 'prod1' CRS-2672: Attempting to start 'ora.oc4j' on 'prod1' CRS-2676: Start of 'ora.net1.network' on 'prod1' succeeded CRS-2672: Attempting to start 'ora.cvu' on 'prod1' CRS-2672: Attempting to start 'ora.ons' on 'prod1' CRS-2672: Attempting to start 'ora.prod1.vip' on 'prod1' CRS-2672: Attempting to start 'ora.scan1.vip' on 'prod1' CRS-2676: Start of 'ora.cvu' on 'prod1' succeeded CRS-2676: Start of 'ora.prod1.vip' on 'prod1' succeeded CRS-2676: Start of 'ora.scan1.vip' on 'prod1' succeeded CRS-2672: Attempting to start 'ora.listener_scan1.lsnr' on 'prod1' CRS-2676: Start of 'ora.ons' on 'prod1' succeeded CRS-2676: Start of 'ora.listener_scan1.lsnr' on 'prod1' succeeded CRS-2676: Start of 'ora.oc4j' on 'prod1' succeeded CRS-6016: Resource auto-start has completed for server prod1 CRS-6024: Completed start of Oracle Cluster Ready Services-managed resources CRS-4123: Oracle High Availability Services has been started. 2016/01/11 11:18:21 CLSRSC-325: Configure Oracle Grid Infrastructure for a Cluster... succeeded Execute root.sh on PROD2 121]# ssh prod2 password: Last login: Mon Jan 11 11:08: from ~]# cd /orgrid/oracle/product/121/ 121]#./root.sh Performing root user operation. The following environment variables are set as: ORACLE_OWNER= orgrid ORACLE_HOME= /orgrid/oracle/product/121 Enter the full pathname of the local bin directory: [/usr/local/bin]: Copying dbhome to /usr/local/bin... Copying oraenv to /usr/local/bin... Copying coraenv to /usr/local/bin... Creating /etc/oratab file... Entries will be added to the /etc/oratab file as needed by Database Configuration Assistant when a database is created Finished running generic part of root script. Now product-specific root actions will be performed. Using configuration parameter file: /orgrid/oracle/product/121/crs/install/crsconfig_params 7883 2016/01/11 11:19:08 CLSRSC-4001: Installing Oracle Trace File Analyzer (TFA) Collector. 2016/01/11 11:19:40 CLSRSC-4002: Successfully installed Oracle Trace File Analyzer (TFA) Collector. 2016/01/11 11:19:41 CLSRSC-363: User ignored prerequisites during installation OLR initialization - successful 2016/01/11 11:20:54 CLSRSC-330: Adding Clusterware entries to file 'oracle-ohasd.service' CRS-4133: Oracle High Availability Services has been stopped. CRS-4123: Oracle High Availability Services has been started. CRS-4133: Oracle High Availability Services has been stopped. CRS-4123: Oracle High Availability Services has been started. CRS-4133: Oracle High Availability Services has been stopped. CRS-4123: Starting Oracle High Availability Services-managed resources CRS-2672: Attempting to start 'ora.mdnsd' on 'prod2' CRS-2672: Attempting to start 'ora.evmd' on 'prod2' CRS-2676: Start of 'ora.mdnsd' on 'prod2' succeeded CRS-2676: Start of 'ora.evmd' on 'prod2' succeeded CRS-2672: Attempting to start 'ora.gpnpd' on 'prod2' CRS-2676: Start of 'ora.gpnpd' on 'prod2' succeeded CRS-2672: Attempting to start 'ora.gipcd' on 'prod2' CRS-2676: Start of 'ora.gipcd' on 'prod2' succeeded CRS-2672: Attempting to start 'ora.cssdmonitor' on 'prod2' CRS-2676: Start of 'ora.cssdmonitor' on 'prod2' succeeded CRS-2672: Attempting to start 'ora.cssd' on 'prod2' CRS-2672: Attempting to start 'ora.diskmon' on 'prod2' CRS-2676: Start of 'ora.diskmon' on 'prod2' succeeded CRS-2676: Start of 'ora.cssd' on 'prod2' succeeded CRS-2672: Attempting to start 'ora.cluster_interconnect.haip' on 'prod2' CRS-2672: Attempting to start 'ora.ctssd' on 'prod2' CRS-2676: Start of 'ora.ctssd' on 'prod2' succeeded CRS-2676: Start of 'ora.cluster_interconnect.haip' on 'prod2' succeeded CRS-2672: Attempting to start 'ora.asm' on 'prod2' CRS-2676: Start of 'ora.asm' on 'prod2' succeeded CRS-2672: Attempting to start 'ora.storage' on 'prod2' CRS-2676: Start of 'ora.storage' on 'prod2' succeeded CRS-2672: Attempting to start 'ora.crf' on 'prod2' CRS-2676: Start of 'ora.crf' on 'prod2' succeeded CRS-2672: Attempting to start 'ora.crsd' on 'prod2' CRS-2676: Start of 'ora.crsd' on 'prod2' succeeded CRS-6017: Processing resource auto-start for servers: prod2 CRS-2672: Attempting to start 'ora.net1.network' on 'prod2' CRS-2672: Attempting to start 'ora.asmnet1lsnr_asm.lsnr' on 'prod2' CRS-2676: Start of 'ora.net1.network' on 'prod2' succeeded CRS-2672: Attempting to start 'ora.ons' on 'prod2' CRS-2676: Start of 'ora.ons' on 'prod2' succeeded CRS-2676: Start of 'ora.asmnet1lsnr_asm.lsnr' on 'prod2' succeeded CRS-2672: Attempting to start 'ora.asm' on 'prod2' CRS-2676: Start of 'ora.asm' on 'prod2' succeeded CRS-6016: Resource auto-start has completed for server prod2 CRS-6024: Completed start of Oracle Cluster Ready Services-managed resources CRS-4123: Oracle High Availability Services has been started. 2016/01/11 11:23:28 CLSRSC-343: Successfully started Oracle Clusterware stack 7984 2016/01/11 11:23:45 CLSRSC-325: Configure Oracle Grid Infrastructure for a Cluster... succeeded 121]# Verify Clusterware 121]# ~]# /orgrid/oracle/product/121/bin/crsctl stat res -t Name Target State Server State details Local Resources ora.asmnet1lsnr_asm.lsnr ONLINE ONLINE prod1 STABLE ONLINE ONLINE prod2 STABLE ora.listener.lsnr ONLINE ONLINE prod1 STABLE ONLINE ONLINE prod2 STABLE ora.systemdg.dg ONLINE ONLINE prod1 STABLE ONLINE ONLINE prod2 STABLE ora.net1.network ONLINE ONLINE prod1 STABLE ONLINE ONLINE prod2 STABLE ora.ons ONLINE ONLINE prod1 STABLE ONLINE ONLINE prod2 STABLE Cluster Resources ora.listener_scan1.lsnr 1 ONLINE ONLINE prod1 STABLE ora.mgmtlsnr 1 OFFLINE OFFLINE STABLE ora.asm 1 ONLINE ONLINE prod1 Started,STABLE 2 ONLINE ONLINE prod2 Started,STABLE 3 OFFLINE OFFLINE STABLE ora.cvu 1 ONLINE ONLINE prod1 STABLE ora.oc4j 1 ONLINE ONLINE prod1 STABLE ora.prod1.vip 1 ONLINE ONLINE prod1 STABLE ora.prod2.vip 1 ONLINE ONLINE prod2 STABLE ora.scan1.vip 1 ONLINE ONLINE prod1 STABLE ~]# 80 85 81 86 Create MGMTDB INFO: Command /orgrid/oracle/product/121/bin/dbca -silent -createpluggabledatabase -sourcedb - MGMTDB -pdbname cluster -createpdbfrom RMANBACKUP -PDBBackUpfile /orgrid/oracle/product/121/assistants/dbca/templates/mgmtseed_pdb.dfb -PDBMetadataFile /orgrid/oracle/product/121/assistants/dbca/templates/mgmtseed_pdb.xml -createasclone true - internalskipgihomecheck -oui_internal INFO:... GenericInternalPlugIn.handleProcess() entered. INFO:... GenericInternalPlugIn: getting configassistantparmas. INFO:... GenericInternalPlugIn: checking secretarguments. INFO: No arguments to pass to stdin INFO:... GenericInternalPlugIn: starting read loop. INFO: Read: Look at the log file "/orgrid/grid_base/cfgtoollogs/dbca/_mgmtdb.log" for further details. WARNING: Skipping line: Look at the log file "/orgrid/grid_base/cfgtoollogs/dbca/_mgmtdb.log" for further details. 82 87 83 88 84 89 85 90 Skip Verify Step 86 91 MGMTDB Status and Operation MGMTDB is new database instance which is used for storing Cluster Health Monitor (CHM) data. In 11g this was being stored in berkley database but starting Oracle database 12c it is configured as Oracle Database Instance. ~]$ oclumon manage -get MASTER Master = prod1 ~]$ srvctl status mgmtdb Database is enabled Instance -MGMTDB is running on node prod1 ~]$ srvctl config mgmtdb Database unique name: _mgmtdb Database name: Oracle home: <CRS home> Oracle user: orgrid Spfile: +SYSTEMDG/_MGMTDB/PARAMETERFILE/spfile Password file: Domain: Start options: open Stop options: immediate Database role: PRIMARY Management policy: AUTOMATIC Type: Management 8792 PDB name: ohsgi PDB service: ohsgi Cluster name: ohsgi Database instance: -MGMTDB ~]$ oclumon manage -get reppath CHM Repository Path = +SYSTEMDG/_MGMTDB/FD9B43BF6A646F8CE043B6A9E80A2815/DATAFILE/sysmgmtdata ~]$ ~]$ export ORACLE_SID=-MGMTDB ~]$ sqlplus / as sysdba SQL*Plus: Release Production on Mon Jan 11 13:53: Copyright (c) 1982, 2014, Oracle. All rights reserved. Connected to: Oracle Database 12c Enterprise Edition Release bit Production With the Partitioning, Automatic Storage Management and Advanced Analytics options SQL> select file_name from dba_data_files union select member file_name from V$logfile; FILE_NAME SYSTEMDG/_MGMTDB/DATAFILE/sysaux SYSTEMDG/_MGMTDB/DATAFILE/system SYSTEMDG/_MGMTDB/DATAFILE/undotbs SYSTEMDG/_MGMTDB/ONLINELOG/group_ SYSTEMDG/_MGMTDB/ONLINELOG/group_ SYSTEMDG/_MGMTDB/ONLINELOG/group_ rows selected. SQL> _mgmtdb]$ lsnrctl status LSNRCTL for Linux: Version Production on 11-JAN :06:06 Copyright (c) 1991, 2014, Oracle. All rights reserved. Connecting to (DESCRIPTION=(ADDRESS=(PROTOCOL=IPC)(KEY=LISTENER))) STATUS of the LISTENER Alias LISTENER Version TNSLSNR for Linux: Version Production Start Date 11-JAN :26:09 Uptime 0 days 1 hr. 39 min. 57 sec Trace Level off Security ON: Local OS Authentication SNMP OFF 8893 Listener Parameter File /orgrid/oracle/product/121/network/admin/listener.ora Listener Log File /orgrid/grid_base/diag/tnslsnr/prod1/listener/alert/log.xml Listening Endpoints Summary... (DESCRIPTION=(ADDRESS=(PROTOCOL=ipc)(KEY=LISTENER))) (DESCRIPTION=(ADDRESS=(PROTOCOL=tcp)(HOST= )(PORT=1521))) (DESCRIPTION=(ADDRESS=(PROTOCOL=tcp)(HOST= )(PORT=1521))) Services Summary... Service "+ASM" has 1 instance(s). Instance "+ASM1", status READY, has 1 handler(s) for this service... Service "-MGMTDBXDB" has 1 instance(s). Instance "-MGMTDB", status READY, has 1 handler(s) for this service... Service "_mgmtdb" has 1 instance(s). Instance "-MGMTDB", status READY, has 1 handler(s) for this service... Service "ohsgi" has 1 instance(s). Instance "-MGMTDB", status READY, has 1 handler(s) for this service... The command completed successfully _mgmtdb]$ _mgmtdb]$ _mgmtdb]$ ps -ef grep pmon orgrid :25? 00:00:00 asm_pmon_+asm1 orgrid :32? 00:00:00 mdb_pmon_-mgmtdb orgrid :09 pts/1 00:00:00 grep --color=auto pmon _mgmtdb]$ ~]$ cd /orgrid/grid_base/diag/rdbms/_mgmtdb/ _mgmtdb]$ ls i_1.mif -MGMTDB _mgmtdb]$ cd -MGMTDB/ -bash: cd: -M: invalid option cd: usage: cd [-L [-P [-e]]] [dir] _mgmtdb]$ cd./-mgmtdb/ -MGMTDB]$ ls alert cdump hm incident incpkg ir lck log metadata metadata_dgif metadata_pv stage sweep trace -MGMTDB]$ SQL> select name from v$database; NAME _MGMTDB SQL> select con_id,dbid,con_uid,name,open_mode from v$pdbs; CON_ID DBID CON_UID NAME OPEN_MODE PDB$SEED READ ONLY OHSGI READ WRITE SQL> ~]$ srvctl stop mgmtdb ~]$ ~]$ srvctl status mgmtdb Database is enabled Database is not running. ~]$ srvctl start mgmtdb ~]$ srvctl status mgmtdb 8994 Database is enabled Instance -MGMTDB is running on node prod1 ~]$ Create DiskGroup ~]$ cd /orgrid/oracle/product/121/bin/ bin]$./asmca bin]$ 90
95 91
96 ASM Verify and help ASMCMD> help 9297 asmcmd Starts asmcmd or executes the command Synopsis asmcmd [-V] [--nocp] [-v {errors warnings normal info debug} ] [--privilege {sysasm sysdba} ] [-p] [--inst <instance_name>] [--discover][<command>] Description The environment variables ORACLE_HOME and ORACLE_SID determine the instance to which the program connects, and ASMCMD establishes a bequeath connection to it, in the same manner as a SQLPLUS / AS SYSASM. The user must be a member of the OSASM group. If Flex ASM is enabled, the ASMCMD connects to any one of the ASM instances running in the cluster. The connection to ASM instance does not depend on the environment variables ORACLE_HOME and ORACLE_SID. The ASMCMD alert log shows to which instance ASMCMD is connected to. If the user wants to connect to a specific ASM instance, --inst option should be used to specify the instance name. Specifying the -V option prints the asmcmd version number and exits immediately. Specifying the --nocp option disables connection pooling feature for ASMCMD. Specifying the -v option prints extra information that can help advanced users diagnose problems. Specify the --privilege option to choose the type of connection. There are only two possibilities: connecting as SYSASM or as SYSDBA. The default value if this option is unspecified is SYSASM. Specifying the -p option allows the current directory to be displayed in the command prompt, like so: ASMCMD [+DATA/ORCL/CONTROLFILE] > Specifying the --discover option uses discovery string obtained from Listener, does not use ORACLE_SID. [command] specifies one of the following commands, along with its parameters. Type "help [command]" to get help on a specific ASMCMD command. commands: md_backup, md_restore amdu_extract 9398 lsattr, setattr audcleanaudittrail, audclearproperty, audcleartimestamp audcreatejob, auddropjob, audloaduniauditfiles, audsetdebug audsetjobinterval, audsetjobstatus, audsetproperty, audsettimestamp audsettraillocation, audshowtimestamp, lsaudcleanevents lsaudcleanupjobs, lsaudconfigparams cd, cp, du, find, help, ls, lsct, lsdg, lsof, mkalias mkdir, pwd, rm, rmalias, showclustermode, showclusterstate showpatches, showversion mapau, mapextent chdg, chkdg, dropdg, iostat, lsdsk, lsod, mkdg, mount offline, online, rebal, remap, umount pwcopy, pwcreate, pwdelete, pwget, pwmove, pwset afd_configure, afd_deconfigure, afd_dsget, afd_dsset afd_filter, afd_label, afd_lsdsk, afd_scan, afd_state afd_unlabel, dsget, dsset, lsop, mkcc, rmcc, shutdown spbackup, spcopy, spget, spmove, spset, startup chtmpl, lstmpl, mktmpl, rmtmpl chgrp, chmod, chown, groups, grpmod, lsgrp, lspwusr, lsusr mkgrp, mkusr, orapwusr, passwd, rmgrp, rmusr, rpusr volcreate, voldelete, voldisable, volenable, volinfo volresize, volset, volstat ASMCMD> Install Database Desktop]# xhost + access control disabled, clients can connect from any host Desktop]# su - oracle Last login: Mon Jan 11 20:47:44 CST 2016 on pts/1 ~]$ export DISPLAY=:0.0 ~]$ cd /mnt/hgfs/12102/database/ database]$./runinstaller Starting Oracle Universal Installer... Checking Temp space: must be greater than 500 MB. Actual MB Passed Checking swap space: must be greater than 150 MB. Actual 1861 MB Passed Checking monitor: must be configured to display at least 256 colors. Actual Passed Preparing to launch Oracle Universal Installer from /tmp/orainstall _ PM. Please database]$ 94
99 95100 96101 97 102 98 103 99 104 100 105 101 106 Specify the UNIX group names for the database administrators (OSDBA) group and optionally, the database operators (OSOPER) group, then click Next. Note: The groups that you specify must already exist. For Oracle Real Application Clusters installations, the group ID (gid) for each group must be the same on all nodes of the cluster. These groups have the following significance: The OSDBA group (typically, dba) You must create this group the first time you install Oracle Database software on the system. This group identifies operating system user accounts that have database administrative privileges (the SYSDBA privilege). The name used for this group in Oracle code examples is dba. The OSOPER group for Oracle Database (typically, oper) This is an optional group. Create this group if you want a separate group of operating system users to have a limited set of database administrative privileges (the SYSOPER privilege). This group cannot directly connect as SYSOPER, unless explicitly granted. However, they have the privileges granted by the SYSOPER privilege. By default, members of the OSDBA group have all privileges granted by the SYSOPER privilege. The usual name for this group is oper. The OSBACKUPDBA group for Oracle Database (typically, backupdba) 102 107 Create this group if you want a separate group of operating system users to have a limited set of database backup and recovery related administrative privileges (the SYSBACKUP privilege). The usual name for this group is backupdba. The OSDGDBA group for Oracle Data Guard (typically, dgdba) Create this group if you want a separate group of operating sytem users to have a limited set of privileges to administer and monitor Oracle Data Guard (the SYSDG privilege). The usual name for this group is dgdba. The OSKMDBA group for encyption key management (typically, kmdba) Create this group if you want a separate group of operating sytem users to have a limited set of privileges for encryption key management such as Oracle Wallet Manager management (the SYSKM privilege). The usual name for this group is kmdba. 103 108 Execute fixup script for both nodes ~]# /tmp/cvu_ _oracle/runfixup.sh All Fix-up operations were completed successfully. ~]# ssh prod2 /tmp/cvu_ _oracle/runfixup.sh password: All Fix-up operations were completed successfully. ~]# 104109 105 110 106 111 107 112 Execute root.sh ~]# /ordb/oracle/product/121/root.sh Performing root user operation. The following environment variables are set as: ORACLE_OWNER= oracle ORACLE_HOME= /ordb/oracle/product/121 Enter the full pathname of the local bin directory: [/usr/local/bin]: The contents of "dbhome" have not changed. No need to overwrite. The contents of "oraenv" have not changed. No need to overwrite. The contents of "coraenv" have not changed. No need to overwrite. Entries will be added to the /etc/oratab file as needed by Database Configuration Assistant when a database is created Finished running generic part of root script. Now product-specific root actions will be performed. ~]# ssh prod2 /ordb/oracle/product/121/root.sh password: Performing root user operation. The following environment variables are set as: ORACLE_OWNER= oracle ORACLE_HOME= /ordb/oracle/product/ 113 Enter the full pathname of the local bin directory: [/usr/local/bin]: The contents of "dbhome" have not changed. No need to overwrite. The contents of "oraenv" have not changed. No need to overwrite. The contents of "coraenv" have not changed. No need to overwrite. Entries will be added to the /etc/oratab file as needed by Database Configuration Assistant when a database is created Finished running generic part of root script. Now product-specific root actions will be performed. ~]# Create database ~]$ cd /ordb/oracle/product/121/bin/ bin]$./dbca 109
114 110 115 111 116 112 117 Create container database 113 118 114 119 115 120 116 121 117 122 118 123 119 124 120 125 121 126 122 127 123 128 124 129 Ignore Validation Check 125 130 126 131 127 132 128 133 129 134 130 135 131 136 Access Enterprise Manager 132 137 Final Verify ~]# /orgrid/oracle/product/121/bin/crsctl stat res -t Name Target State Server State details Local Resources ora.asmnet1lsnr_asm.lsnr ONLINE ONLINE prod1 STABLE ONLINE ONLINE prod2 STABLE ora.data.dg ONLINE ONLINE prod1 STABLE ONLINE ONLINE prod2 STABLE ora.listener.lsnr ONLINE ONLINE prod1 STABLE ONLINE ONLINE prod2 STABLE ora.systemdg.dg ONLINE ONLINE prod1 STABLE ONLINE ONLINE prod2 STABLE ora.net1.network ONLINE ONLINE prod1 STABLE ONLINE ONLINE prod2 STABLE ora.ons ONLINE ONLINE prod1 STABLE ONLINE ONLINE prod2 STABLE Cluster Resources ora.listener_scan1.lsnr 1 ONLINE ONLINE prod1 STABLE ora.mgmtlsnr 1 ONLINE ONLINE prod ,STABL E ora.asm 1 ONLINE ONLINE prod1 Started,STABLE 2 ONLINE ONLINE prod2 Started,STABLE 3 OFFLINE OFFLINE STABLE ora.cvu 1 ONLINE ONLINE prod1 STABLE ora.mgmtdb 133138 1 ONLINE ONLINE prod1 Open,STABLE ora.oc4j 1 ONLINE ONLINE prod1 STABLE ora.prod.db 1 ONLINE ONLINE prod1 Open,STABLE 2 ONLINE ONLINE prod2 Open,STABLE ora.prod1.vip 1 ONLINE ONLINE prod1 STABLE ora.prod2.vip 1 ONLINE ONLINE prod2 STABLE ora.scan1.vip 1 ONLINE ONLINE prod1 STABLE ~]# ~]$ ps -ef grep pmon oracle :36? 00:00:00 ora_pmon_prod1 orgrid :32? 00:00:01 mdb_pmon_-mgmtdb orgrid :33? 00:00:01 asm_pmon_+asm1 orgrid :28 pts/2 00:00:00 grep --color=auto pmon ~]$ ~]$ srvctl config database -d prod Database unique name: prod Database name: prod Oracle home: /ordb/oracle/product/121 Oracle user: oracle Spfile: +DATA/PROD/PARAMETERFILE/spfile Password file: +DATA/PROD/PASSWORD/pwdprod Domain: Start options: open Stop options: immediate Database role: PRIMARY Management policy: AUTOMATIC Server pools: Disk Groups: DATA Mount point paths: Services: Type: RAC Start concurrency: Stop concurrency: OSDBA group: dba OSOPER group: Database instances: prod1,prod2 Configured nodes: prod1,prod2 Database is administrator managed ~]$ ~]$ lsnrctl status LSNRCTL for Linux: Version Production on 12-JAN :50:56 Copyright (c) 1991, 2014, Oracle. All rights reserved. Connecting to (ADDRESS=(PROTOCOL=tcp)(HOST=)(PORT=1521)) STATUS of the LISTENER Alias LISTENER Version TNSLSNR for Linux: Version Production Start Date 11-JAN :45:29 Uptime 0 days 18 hr. 5 min. 27 sec Trace Level off Security ON: Local OS Authentication SNMP OFF Listener Parameter File /orgrid/oracle/product/121/network/admin/listener.ora 134139 Listener Log File /orgrid/grid_base/diag/tnslsnr/prod1/listener/alert/log.xml Listening Endpoints Summary... (DESCRIPTION=(ADDRESS=(PROTOCOL=ipc)(KEY=LISTENER))) (DESCRIPTION=(ADDRESS=(PROTOCOL=tcp)(HOST= )(PORT=1521))) (DESCRIPTION=(ADDRESS=(PROTOCOL=tcp)(HOST= )(PORT=1521))) (DESCRIPTION=(ADDRESS=(PROTOCOL=tcps)(HOST=prod1)(PORT=5500))(Security=(my_wall et_directory=/ordb/oracle/product/121/admin/prod/xdb_wallet))(presentation=http )(Session=RAW)) Services Summary... Service "+ASM" has 1 instance(s). Instance "+ASM1", status READY, has 1 handler(s) for this service... Service "-MGMTDBXDB" has 1 instance(s). Instance "-MGMTDB", status READY, has 1 handler(s) for this service... Service "_mgmtdb" has 1 instance(s). Instance "-MGMTDB", status READY, has 1 handler(s) for this service... Service "ohsdba" has 1 instance(s). Instance "prod1", status READY, has 1 handler(s) for this service... Service "ohsgi" has 1 instance(s). Instance "-MGMTDB", status READY, has 1 handler(s) for this service... Service "prod" has 1 instance(s). Instance "prod1", status READY, has 1 handler(s) for this service... Service "prodxdb" has 1 instance(s). Instance "prod1", status READY, has 1 handler(s) for this service... The command completed successfully ~]$ CDB & PDB Operations Open pdb as sysdba ~]$ sqlplus / as sysdba SQL*Plus: Release Production on Fri Jan 15 10:19: Copyright (c) 1982, 2014, Oracle. All rights reserved. Connected to: Oracle Database 12c Enterprise Edition Release bit Production With the Partitioning, Real Application Clusters, Automatic Storage Management, OLAP, Advanced Analytics and Real Application Testing options SQL> show pdbs; CON_ID CON_NAME OPEN MODE RESTRICTED PDB$SEED READ ONLY NO 3 OHSDBA MOUNTED SQL> alter pluggable database ohsdba open instances=all; Pluggable database altered. SQL> show pdbs CON_ID CON_NAME OPEN MODE RESTRICTED PDB$SEED READ ONLY NO 135140 3 OHSDBA READ WRITE NO SQL> show con_name CON_NAME CDB$ROOT SQL> show con_id CON_ID SQL> alter session set container=ohsdba; Session altered. SQL> show con_name CON_NAME OHSDBA SQL> show con_id CON_ID SQL> show pdbs CON_ID CON_NAME OPEN MODE RESTRICTED OHSDBA READ WRITE NO SQL> shutdown immediate Pluggable Database closed. SQL> show con_name CON_NAME OHSDBA SQL> show pdbs CON_ID CON_NAME OPEN MODE RESTRICTED OHSDBA MOUNTED SQL> SQL> exit Disconnected from Oracle Database 12c Enterprise Edition Release bit Production With the Partitioning, Real Application Clusters, Automatic Storage Management, OLAP, Advanced Analytics and Real Application Testing options ~]$ ~]$ sqlplus / as sysdba SQL*Plus: Release Production on Fri Jan 15 10:26: Copyright (c) 1982, 2014, Oracle. All rights reserved. Connected to: Oracle Database 12c Enterprise Edition Release bit Production With the Partitioning, Real Application Clusters, Automatic Storage Management, OLAP, Advanced Analytics and Real Application Testing options 136141 SQL> show pdbs CON_ID CON_NAME OPEN MODE RESTRICTED PDB$SEED READ ONLY NO 3 OHSDBA MOUNTED SQL> alter pluggable database all open instances=all; Pluggable database altered. SQL> show pdbs CON_ID CON_NAME OPEN MODE RESTRICTED PDB$SEED READ ONLY NO 3 OHSDBA READ WRITE NO SQL> alter pluggable database ohsdba close instances=all; Pluggable database altered. SQL> show pdbs CON_ID CON_NAME OPEN MODE RESTRICTED PDB$SEED READ ONLY NO 3 OHSDBA MOUNTED SQL> Open pdb as pdb sysdba ~]$ sqlplus as sysdba SQL*Plus: Release Production on Fri Jan 15 10:24: Copyright (c) 1982, 2014, Oracle. All rights reserved. Connected to: Oracle Database 12c Enterprise Edition Release bit Production With the Partitioning, Real Application Clusters, Automatic Storage Management, OLAP, Advanced Analytics and Real Application Testing options SQL> show con_name CON_NAME OHSDBA SQL> show pdbs CON_ID CON_NAME OPEN MODE RESTRICTED OHSDBA MOUNTED SQL> alter database open; Database altered. SQL> show pdbs CON_ID CON_NAME OPEN MODE RESTRICTED142 3 OHSDBA READ WRITE NO SQL> shutdown immediate Pluggable Database closed. SQL> show pdbs CON_ID CON_NAME OPEN MODE RESTRICTED OHSDBA MOUNTED SQL> SQL> alter database open; Database altered. SQL> show pdbs CON_ID CON_NAME OPEN MODE RESTRICTED OHSDBA READ WRITE NO SQL> alter session set container=cdb$root; Session altered. SQL> show pdbs CON_ID CON_NAME OPEN MODE RESTRICTED PDB$SEED READ ONLY NO 3 OHSDBA READ WRITE NO SQL> Create user global user is begin with c##,you cannot create local user on cdb. you cannot see the local user(pdb user) in cdb. SQL> show parameter common_user_prefix NAME TYPE VALUE common_user_prefix string C## SQL> create user ohsdba identified by oracle; create user ohsdba identified by oracle * ERROR at line 1: ORA-65096: invalid common user or role name SQL> create user c##ohsdba identified by oracle; User created. SQL> select username from dba_users where username='c##ohsdba'; USERNAME C##OHSDBA SQL> alter session set container=ohsdba; Session altered. SQL> show pdbs 138143 CON_ID CON_NAME OPEN MODE RESTRICTED OHSDBA READ WRITE NO SQL> show con_name CON_NAME OHSDBA SQL> select username from dba_users where username='c##ohsdba'; USERNAME C##OHSDBA SQL> create user ohsdba identified by oracle; User created. SQL> select username from dba_users where username='ohsdba'; USERNAME OHSDBA SQL> alter session set container=cdb$root; Session altered. SQL> select username from dba_users where username='ohsdba'; no rows selected SQL> Create tablespace If you create tablespace in cdb, pdbs will not create it.cdb and pdbs can have tablespace with the same name SQL> show con_name CON_NAME CDB$ROOT SQL> create tablespace ohs datafile '+DATA' size 100M; Tablespace created. SQL> select tablespace_name from dba_tablespaces; TABLESPACE_NAME SYSTEM SYSAUX UNDOTBS1 TEMP USERS UNDOTBS2 OHS 7 rows selected. 139144 SQL> alter session set container=ohsdba; Session altered. SQL> select tablespace_name from dba_tablespaces; TABLESPACE_NAME SYSTEM SYSAUX TEMP USERS EXAMPLE SQL> SQL> create tablespace ohs datafile '+DATA' size 100M; Tablespace created. SQL> select tablespace_name from dba_tablespaces; TABLESPACE_NAME SYSTEM SYSAUX TEMP USERS EXAMPLE OHS 6 rows selected. SQL> select name from v$datafile; NAME DATA/prod/undotbs01.dbf +DATA/PROD/FD9BD2B FE043B6A9E80ABC28/DATAFILE/system DATA/PROD/FD9BD2B FE043B6A9E80ABC28/DATAFILE/sysaux DATA/PROD/FD9BD2B FE043B6A9E80ABC28/DATAFILE/users DATA/PROD/FD9BD2B FE043B6A9E80ABC28/DATAFILE/example DATA/PROD/291AF2A8AF2EA86AE A981F/DATAFILE/ohs rows selected. SQL> alter session set container=cdb$root; Session altered. SQL> select name from v$datafile; NAME DATA/prod/system01.dbf +DATA/prod/sysaux01.dbf +DATA/prod/undotbs01.dbf +DATA/PROD/FD9AC20F64D244D7E043B6A9E80A2F2F/DATAFILE/system DATA/prod/users01.dbf +DATA/PROD/FD9AC20F64D244D7E043B6A9E80A2F2F/DATAFILE/sysaux DATA/prod/undotbs02.dbf +DATA/PROD/FD9BD2B FE043B6A9E80ABC28/DATAFILE/system145 +DATA/PROD/FD9BD2B FE043B6A9E80ABC28/DATAFILE/sysaux DATA/PROD/FD9BD2B FE043B6A9E80ABC28/DATAFILE/users DATA/PROD/FD9BD2B FE043B6A9E80ABC28/DATAFILE/example NAME DATA/PROD/DATAFILE/ohs DATA/PROD/291AF2A8AF2EA86AE A981F/DATAFILE/ohs rows selected. SQL> Grant privileges grant resource to c##ohsdba container=all; if you grant privileges without container=all, you just grant them to current container. SQL> show con_name CON_NAME CDB$ROOT SQL> grant connect,resource to c##ohsdba; Grant succeeded. SQL> SQL> col grantee for a15 SQL> col granted_role for a15 SQL> select * from dba_role_privs where grantee='c##ohsdba'; GRANTEE GRANTED_ROLE ADM DEL DEF COM C##OHSDBA CONNECT NO NO YES NO C##OHSDBA RESOURCE NO NO YES NO SQL> alter session set container=ohsdba; Session altered. SQL> show con_name CON_NAME OHSDBA SQL> select * from dba_role_privs where grantee='c##ohsdba'; no rows selected SQL> Moidfy initiate parameters If you change the initiate parameters in cdb, pdbs will be modified as well. If you change the initiate parameters in pdbs, cdb will not change. SQL> show con_name CON_NAME CDB$ROOT 141146 SQL> show parameter parallel_max_servers NAME TYPE VALUE parallel_max_servers integer 40 SQL> alter session set container=ohsdba; Session altered. SQL> show con_name CON_NAME OHSDBA SQL> show parameter parallel_max_servers NAME TYPE VALUE parallel_max_servers integer 40 SQL> alter session set container=cdb$root; Session altered. SQL> alter system set parallel_max_servers=200; System altered. SQL> show parameter parallel_max_servers NAME TYPE VALUE parallel_max_servers integer 200 SQL> alter session set container=ohsdba; Session altered. SQL> show con_name CON_NAME OHSDBA SQL> show parameter parallel_max_servers NAME TYPE VALUE parallel_max_servers integer 200 SQL> SQL> show con_name CON_NAME OHSDBA SQL> show parameter open_cursors NAME TYPE VALUE open_cursors integer 300 SQL> alter system set open_cursors=100; System altered. 142147 SQL> show parameter open_cursors NAME TYPE VALUE open_cursors integer 100 SQL> alter session set container=cdb$root; Session altered. SQL> show parameter open_cursors NAME TYPE VALUE open_cursors integer 300 SQL> Oracle Flex ASM Operations Oracle Flex ASM Testing Prior to Oracle 12c, for a database instance to use ASM it is expected that the ASM instance must be up and running on all nodes before the database instance is brought up. Failure of ASM instance to come-up means that database instance using ASM at the storage level cannot be brought up. Shutdown +ASM1, the database on prod1 is still running. That's the biggest difference between standard ASM and flex ASM Operations on Prod1 ~]# ps -ef grep pmon orgrid :14? 00:00:00 asm_pmon_+asm1 oracle :14? 00:00:00 ora_pmon_prod1 root :18 pts/0 00:00:00 grep --color=auto pmon ~]# su - orgrid Last login: Fri Jan 15 21:10:14 CST 2016 on pts/1 ~]$ srvctl status asm ASM is running on prod2,prod1 ~]$ asmcmd ASMCMD> showclustermode ASM cluster : Flex mode enabled ASMCMD> showclusterstate Normal ASMCMD> exit ~]$ srvctl status asm -detail ASM is running on prod2,prod1 ASM is enabled. ~]$ srvctl config asm -detail ASM home: <CRS home> Password file: +SYSTEMDG/orapwASM ASM listener: LISTENER ASM is enabled. ASM is individually enabled on nodes: ASM is individually disabled on nodes: ASM instance count: 3 Cluster ASM listener: ASMNET1LSNR_ASM ~]$ srvctl stop asm -node prod1 -stopoption abort -force ~]$ ps -ef grep pmon oracle :14? 00:00:00 ora_pmon_prod1 orgrid :22 pts/0 00:00:00 grep --color=auto pmon 143148 ~]$ srvctl status asm ASM is running on prod2 ~]$ srvctl status asm -detail ASM is running on prod2 ASM is enabled. ~]$ ps -ef grep pmon oracle :14? 00:00:00 ora_pmon_prod1 orgrid :23 pts/0 00:00:00 grep --color=auto pmon ~]$ ~]$ asmcmd ASMCMD> ASMCMD> lsct -g DATA Instance_ID DB_Name Status Software_Version Compatible_version Instance_Name Disk_Group 2 +ASM CONNECTED ASM2 DATA 2 prod CONNECTED prod1 DATA 2 prod CONNECTED prod2 DATA ASMCMD> ASMCMD> lsct -g systemdg Instance_ID DB_Name Status ASMCMD> Software_Version Compatible_version Instance_Name Disk_Group 2 +ASM CONNECTED ASM2 SYSTEMDG ~]# su - orgrid Last login: Sat Jan 16 00:33:36 CST 2016 on pts/1 ~]$ sqlplus / as sysasm SQL*Plus: Release Production on Sat Jan 16 00:53: Copyright (c) 1982, 2014, Oracle. All rights reserved. Connected to: Oracle Database 12c Enterprise Edition Release bit Production With the Real Application Clusters and Automatic Storage Management options SQL> SQL> SELECT instance_name, db_name, status FROM V$ASM_CLIENT; no rows selected SQL> SQL> col instance_name for a20 SQL> SELECT instance_name, db_name, status FROM V$ASM_CLIENT; INSTANCE_NAME DB_NAME STATUS prod1 prod CONNECTED SQL> ~]$ asmcmd lsct -g data Instance_ID DB_Name Status Software_Version Compatible_version Instance_Name Disk_Group 2 +ASM CONNECTED ASM2 DATA 1 prod CONNECTED prod1 DATA 2 prod CONNECTED prod2 DATA ~]$ asmcmd lsct -g systemdg Instance_ID DB_Name Status Software_Version Compatible_version Instance_Name Disk_Group 2 +ASM CONNECTED ASM2 SYSTEMDG ~]$ Operations on Prod2 ~]# ps -ef grep pmon orgrid :15? 00:00:00 asm_pmon_+asm2 oracle :17? 00:00:00 ora_pmon_prod2 root :21 pts/0 00:00:00 grep --color=auto pmon ~]# su - orgrid Last login: Sat Jan 16 00:18:50 CST149 ~]$ asmcmd ASMCMD> showclustermode ASM cluster : Flex mode enabled ASMCMD> showclusterstate Normal ASMCMD> exit ~]$ srvctl config asm -detail ASM home: <CRS home> Password file: +SYSTEMDG/orapwASM ASM listener: LISTENER ASM is enabled. ASM is individually enabled on nodes: ASM is individually disabled on nodes: ASM instance count: 3 Cluster ASM listener: ASMNET1LSNR_ASM ~]$ ps -ef grep pmon orgrid :15? 00:00:00 asm_pmon_+asm2 oracle :17? 00:00:00 ora_pmon_prod2 orgrid :23 pts/0 00:00:00 grep --color=auto pmon ~]$ ps -ef grep pmon orgrid :15? 00:00:00 asm_pmon_+asm2 oracle :17? 00:00:00 ora_pmon_prod2 orgrid :25 pts/0 00:00:00 grep --color=auto pmon ~]$ ~]$ sqlplus / as sysasm SQL> col instance_name for a20 SQL> SELECT instance_name, db_name, status FROM V$ASM_CLIENT; INSTANCE_NAME DB_NAME STATUS prod1 prod CONNECTED prod2 prod CONNECTED +ASM2 +ASM CONNECTED +ASM2 +ASM CONNECTED SQL> SQL> alter system relocate client 'prod1:prod'; System altered. SQL> SELECT instance_name, db_name, status FROM V$ASM_CLIENT; INSTANCE_NAME DB_NAME STATUS prod2 prod CONNECTED +ASM2 +ASM CONNECTED +ASM2 +ASM CONNECTED SQL> Convert standard ASM to flex ASM You can convert an Oracle ASM configuration to an Oracle Flex ASM using ASMCA. This functionality is only available in an Oracle Grid Infrastructure 12c configuration. Before you convert an Oracle ASM configuration to an Oracle Flex ASM, you must ensure the following: 1.Oracle Cluster Registry (OCR) is stored in a disk group 2.The server parameter file (SPFILE) is stored in a disk group. 145 150 3.The password file (ORAPWD file) is stored in a disk group. 4.The disk group where the OCR, SPFILE, and ORAPWD files are stored has Oracle ASM compatibility (COMPATIBLE.ASM) set to 12.1 or higher. ASMCA also informs you if any requirement, such as storing an ORAPWD file in a disk group, has not been met before starting the conversion. Managing Oracle Flex Clusters Changing the Cluster Mode
You can change the mode of an existing Oracle Clusterware standard Cluster to be an Oracle Flex Cluster. you must enable Oracle Flex ASM in the cluster before you change the cluster mode. Notes: Changing the cluster mode requires cluster downtime. Oracle does not support changing an Oracle Flex Cluster to an Oracle Clusterware standard Cluster. Oracle Flex Cluster requires Grid Naming Service (GNS). Zone delegation is not required. To change an existing Oracle Clusterware standard Cluster to an Oracle Flex Cluster: 1. Run the following command to determine the current mode of the cluster: 2. $ crsctl get cluster mode status 146
View more
Similar documents
2019 © technodocbox.com Privacy Policy | Terms of Service | Feedback
To make this website work, we log user data and share it with processors. To use this website, you must agree to our Privacy Policy, including cookie policy.
I agree.

















Kernel 3.10.0-957.12.1.el7.x86_64 on an x86_64
hm login:

============================https://technodocbox.com/Unix/128220699-Oracle-rac-12c-ohsdba.html===============================

 successful root wallet root wallet cert root cert export peer wallet profile reader wallet pa wallet peer wallet keys pa wallet keys peer cert request pa cert request peer cert pa cert peer root cert tp profile reader root cert tp pa root cert tp peer pa cert tp pa peer cert tp profile reader pa cert tp profile reader peer cert tp peer user cert pa user cert 2016 bin ]$./ dbca 109 114 110 115 111 116 112 117 create container database 113 118 114 119 115 120 116 121 117 122 118 123 119 124 120 125 121 126 122 127 123 128 124 129 ignore validation check 125 130 126 131 127 132 128 133 129 134 130 135 131 136 access enterprise manager 132 137 final verify ~]# disks /* 60 65 61 66 62 67 63 68 64 69 65 70 66 71 67 72 68 73 execute fixup script scan ~]# ~]# nmcli device status device type state connection eno ethernet connected eno eno ethernet connected profile1 virbr0 bridge disconnected -- virbr0 please database ]$ 94 99 95100 96101 97 102 98 103 99 104 100 105 101 106 specify sh4 create database create container database ignore validation check access enterprise manager final verify cdb 2 oracle rac 12c ohsdba 12 prerequisites ... 1 hardware ... 1 software ... 1 install summary ... 1 oracle certification information ... 2 oracle clusterware mgmtdb ]$ ls alert cdump hm incident incpkg ir lck log metadata metadata_dgif metadata_pv stage sweep trace 82 87 83 88 84 89 85 90 skip verify step 86 91 mgmtdb status ~]# 104109 105 110 106 111 107 112 execute root conf orpemrep soft nproc 4096 orpemrep hard nproc orpemrep soft nofile 4096 orpemrep hard nofile configure ctf x86_ el7 oel72 30 k transaction summary ============================================================================================================================================== install 1 package (+ 1 dependent package grantee =' c ## ohsdba '; grantee granted_role adm del def com c ## ohsdba connect installed --> finished dependency resolution dependencies resolved ============================================================================================================================================== package arch version repository size ============================================================================================================================================== installing cvu_ _orgrid ]# 69 74 70 75 71 76 72 77 execute orainstroot password system oracle sysasm oracle pdbadmin oracle enterprise manager login url asm diskgroup name device size pdb sysdba create user create tablespace grant privileges moidfy initiate parameters oracle flex asm operations oracle flex asm testing operations minimum levels ... 2 oracle 12c rac new feature ... 3 oracle flex cluster ... 3 difference please grid ]$ 46 51 47 52 48 53 49 54 50 55 cluster name vip 1 online online prod1 stable ~]# 80 85 81 86 create mgmtdb info nic ethernet disconnected -- lo loopback unmanaged -- ~]# ip addr show 1 com public ip gateway vip private ip scan ip root welcome1 grid login u bin ]$./ asmca bin ]$ 90 95 91 96 asm verify asm connected asm2 data 1 prod connected prod1 data 2 prod connected prod2 data ~]$ asmcmd lsct 00 running transaction check running transaction test transaction test succeeded running transaction installing os 8 13 9 14 10 15 11 16 12 17 install oracle linux 7 asm connected asm2 data 2 prod connected prod1 data 2 prod connected prod2 data asmcmd oracle 12c rac new feature oracle flex cluster oracle flex clusters contain two types install oel ... 5 create vmware server ... 5 install oracle linux set datetime service pack 1 software vmware workstation build oracle linux 7 update 2 x86 password 13 18 14 19 15 20 16 21 17 22 18 23 reboot oracle wallet manager management 128 scope host valid_lft forever preferred_lft forever 2 per oracle recommendations ... oracle soft nofile 1024 nofile soft limit ulninfo resolving dependencies --> running transaction check ---> package kernel successfully replaced ## state file universal id file name disk group online 5b0da9e9e5af4fb7bf691418fcd22010 show parameter common_user_prefix name type value common_user_prefix string c ## sql install oel create vmware server 5 10 6 11 7 12 note ons online online prod1 stable online online prod2 stable cluster resources ora prod verify clusterware create mgmtdb skip verify step mgmtdb status cluster ... succeeded 121 ]# verify clusterware 121 ]# ~]# username =' c ## ohsdba '; username c ## ohsdba sql leaf nodes ... 3 oracle flex asm ... 4 create vmware server show pdbs 138143 con_id con_name open mode restricted ohsdba read write sysmgmtdata ~]$ ~]$ export oracle_sid =- mgmtdb ~]$ sqlplus show parameter open_cursors name type value open_cursors integer 300 sql accept license 19 24 20 25 21 26 22 27 os pre distrib ]# ls bin doc etc files install installer lib vmware tablespace_name system sysaux undotbs1 temp users undotbs2 ohs 7 rows selected show pdbs con_id con_name open mode restricted142 3 ohsdba read write show parameter open_cursors name type value open_cursors integer 100 sql show parameter parallel_max_servers name type value parallel_max_servers integer 40 sql show parameter parallel_max_servers name type value parallel_max_servers integer 200 sql profile successful addition lsnr online online prod1 stable online online prod2 stable ora dg online online prod1 stable online online prod2 stable ora network online online prod1 stable online online prod2 stable ora grid ]$./ runinstaller starting oracle universal installer ... 51 56 52 57 53 58 54 59 choose asm database ]$./ runinstaller starting oracle universal installer ... g data instance_id db_name status software_version compatible_version instance_name disk_group 2 show pdbs con_id con_name open mode restricted ohsdba mounted sql use device physical block size mounting asmlib driver filesystem g systemdg instance_id db_name status software_version compatible_version instance_name disk_group 2 show pdbs con_id con_name open mode restricted ohsdba read write install grid infrastructure add shared folder 45 50 ~]# vmware ~]$ srvctl start mgmtdb ~]$ srvctl status mgmtdb 8994 database instance_name db_name status prod1 prod connected prod2 prod connected x86_64 --> running transaction check ---> package libdtrace ]# install 12cr1 preinstall package packages ]# yum install oracle cmd -- state running ~]# systemctl disable firewalld removed symlink oracle flex asm operations oracle flex asm testing prior ff ~]# shutdown prod2 ~]$ systemctl poweroff add shared disk step ~]$ srvctl stop mgmtdb ~]$ ~]$ srvctl status mgmtdb database 64 vmware tools ]# vmware tools ]# cp vmwaretools tar vip 1 online online prod1 stable ~]# ~]$ ps sdb3 8g 1 6 oracle certification information oracle clusterware tablespace_name system sysaux temp users example ohs 6 rows selected shm config yum repository install 12cr1 preinstall package run 12cr1 16 initial version 45 prerequisites hardware ram preinstall ]# review verify result results ]# cat orakernel prod install grid infrastructure add shared folder choose asm command completed successfully _mgmtdb ]$ _mgmtdb ]$ _mgmtdb ]$ ps 1 root root oct 14 14 use install summary summary os server name prod1 download document peregrine miller 3 months ago views welcome1 database db name prod instance name prod1 prod2 grid_base raw )) services summary ... service "+ asm oracle rac 12c ohsdba share html download save 1 root root nov 22 02 time 56 61 choose use oracle flex asm higer red hat enterprise linux 5 update 6 64 scope link valid_lft forever preferred_lft forever 3 100 %] ~]# ~]# packages ]# oracleasm configure oracleasm_uid instead request data show pdbs con_id con_name open mode restricted pdb later see oracle database installation guide 12c release 1 disk space immediately 38 43 39 44 create partitions 64 scope link valid_lft forever preferred_lft forever 4 name target state server state details local resources ora add nozeroconf parameter ... parameter already present setting 1 ~]$ export display =: 0 tmp ]# tmp ]# tar zxvf vmwaretools tar node prod1 ~]$ srvctl config mgmtdb database unique name 3 8 oracle flex asm oracle flex asm 0x25952bb8 device boot start end blocks id system 1 root root nov 26 01 com -- static desktop ]# hostnamectl static hostname done ~]# oracleasm exit unmounting asmlib driver filesystem 1521 ))) services summary ... service "+ asm vip 1 online online prod1 stable ora root systemctl poweroff 32 37 clone prod1 vip 1 online online prod2 stable ora oracle database 12c enterprise edition release bit production lsnr 1 online online prod1 stable ora 1 root root jun oracle true oracleasm_scanorder ="" oracleasm_scanexclude ="" oracleasm_use_logical_block_size =" false 64 oracle linux 7 )... 2 os versions 64 desktop ]# desktop ]# hostnamectl static hostname mgmtdb 133138 1 online online prod1 open grantee =' c ## ohsdba '; oracle hard nofile nofile hard limit username =' ohsdba '; username ohsdba sql 1 root root jul oracleasm 5500 ))( security =( my_wall et_directory =/ ordb asmdba oracle ~]# passwd oracle 27 32 changing password -- nocp option disables connection pooling feature profile crs auto pmon 143148 ~]$ srvctl status asm asm red hat enterprise linux 5 update 6 oracle soft nproc nproc soft limit oc4j 1 online online prod1 stable ora cvu 1 online online prod1 stable ora instance_name db_name status prod1 prod connected sql mtu 1500 qdisc pfifo_fast master virbr0 state ~]# oracleasm listdisks asmdisk1 asmdisk2 asmdisk3 ~]# ls oracleasm ": oracleasm ~]# oracleasm init loading module x red hat compatible kernel 27 update 2 default 2048 ): using default value45 last sector default p ): using default response p partition number oracle hard nproc nproc hard limit mgmtdb 58 63 59 64 note config vmware tools packages ]# yum install kernel successfully started oracle clusterware stack 7984 2016 service packages ]# packages ]# oracleasm configure oracleasm_uid voting disk 5b0da9e9e5af4fb7bf691418fcd successfully replaced voting disk group user limits passed 2631 verifying kernel boot parameters create user c ## ohsdba identified oracle flex cluster requires oracle flex asm verify asm disks ~]# oracleasm createdisk asmdisk1 asm reference version author date content v1 node prod1 ~]$ create diskgroup ~]$ cd -- discover option uses discovery string obtained oracle flex cluster requires grid naming service 8 scope host lo inet6 :: 1 char 116 prod2 43 48 4449 shared disk setting cluster ... succeeded execute root flex asm managing oracle flex clusters changing stable 2 online online prod2 open prod1 35 40 3641 37 42 note prod shutdown prod add shared disk step instance_name db_name status prod2 prod connected oracleasm ~]# oracleasm scandisks reloading disk partitions oracle soft stack stack soft limit oracle soft memlock memlock soft limit stable 2 online online prod2 started administrator managed ~]$ ~]$ lsnrctl status lsnrctl tablespace_name system sysaux temp users example sql config vmware tools shutdown prod clone prod1 asm connected asm2 systemdg ~]$ operations db 1 online online prod1 open service disabled ~]# ~]# hostnamectl static hostname crsctl get cluster mode status 146 view real application testing options ~]$ ~]$ sqlplus oracle hard stack stack hard limit con_id con_name open mode restricted pdb help install database execute fixup script cd [- l [- p [- e ]]] node role check oracle flex cluster prod2 121 ]# ssh prod2 password oracle hard memlock memlock hard limit asm 1 online online prod1 started cvu_ _orgrid cvu_ _orgrid ]# ssh prod2 default ): using default value partition 3 verify review verify result configure 24 brd scope global virbr0 5 auto pmon ~]$ ~]$ srvctl config database stable 3 offline offline stable ora prod1 ~]$ srvctl status mgmtdb database kernel parameters passed setting user limits using enable oracleasm packages ]# systemctl enable oracleasm asm connected asm2 systemdg ~]# su stale asm disks ... scanning system c ## ohsdba container default ): using default value last sector 24 brd scope global secondary eno 103 108 execute fixup script g asmoper ~]# ~]# id oracle uid 1 ~]$ srvctl status asm asm creating oracle user passed verifying kernel parameters sh tmp ]# tmp ]# cd vmware software_version compatible_version instance_name disk_group 2 operation create diskgroup asm verify mgmtlsnr 1 offline offline stable ora 64 desktop ]# change ip address 16 brd scope global eno create tablespace ohs datafile '+ data per oracle recommendations ... altered file prod2 desktop ]# hostnamectl static hostname private choose use oracle flex asm 24 brd scope global eno inet mgmtlsnr 1 online online prod ]: writing oracle asm library driver configuration show con_name con_name ohsdba sql g systemdg instance_id db_name status asmcmd sh performing root user operation auto pmon _mgmtdb ]$ ~]$ cd per oracle recommendations ... numa real application testing options 136141 sql red hat enterprise linux 6 microsoft windows 7 service pack 1 conf verifying oracle user os limits red hat enterprise linux 7 xml listening endpoints summary ... successfully installed oracle trace file analyzer private 55 60 note mtu qdisc noqueue state unknown link asmdba oracle ~]# id oracle uid 113 enter done packages ]# oracleasm configure oracleasm_uid 26 asmdisk3 ~]# oracleasm configure oracleasm_uid ~]# systemctl stop firewalld ~]# firewall successful 2016 _mgmtdb ]$ lsnrctl status lsnrctl oracle linux server38 cpe os name successfully started oracle clusterware stack crs instance "- mgmtdb ", status ready red hat 5 update 6 oracle linux 5 update 6 per oracle recommendations ... fs group identifies operating system user accounts oracle rac 12c ohsdba ~]# create database ~]$ cd 121 ]#./ root step install oracle rac performing root user operation hosts create user create directory 4 9 create vmware server alter pluggable database ohsdba open instances install oracle database software alter pluggable database ohsdba close instances mtu 1500 qdisc pfifo_fast state auto pmon ~]$ ~]$ asmcmd asmcmd service ... service "- mgmtdbxdb dbca 09 uptime 0 days 1 hr prod2 ~]$ srvctl status asm install database desktop ]# xhost oracle database 12c release 1 oracle flex asm using asmca later oracle unbreakable enterprise kernel mtu 1500 qdisc noqueue state see core database certification information _mgmtdb ]$ cd ./- mgmtdb username =' ohsdba '; driver interface []: asmadmin scan packages ]# 31 36 ~]# cd exit ~]$ srvctl status asm 29 uptime 0 days 18 hr vmware tools ]# ls manifest managing oracle flex clusters changing instance "+ asm1 ", status ready 64 desktop ]# hostnamectl set oracle grid infrastructure 12c configuration actual mb passed checking swap space setting oracle user os limits create user global user accept license os pre actual 2047 mb passed checking monitor actual 1861 mb passed checking monitor packages ]# packages ]# oracle asm disks ... instantiating disk grant privileges without container installing oracle trace file analyzer ~]# execute root 135140 3 ohsdba read write welcome1 db login u collectively called oracle flex asm running ~]# ~]# systemctl list show con_name con_name cdb create user ohsdba identified verify asm disks step prod execute root hgfsclient ~]# desktop ]# xhost real application testing options sql 1 inet6 fe80 :: 20c verify packages ]# oracle config yum repository ~]# cd con_id dbid con_uid name open_mode pdb disks /* ~]# rpm sdb linux ~]# 4146 create driver interface []: orgrid default group ignore inhibitors oracle real application clusters installations remote asm using network connection exit ~]$ srvctl config asm cluster mode requires cluster downtime done ~]# oracleasm createdisk asmdisk3 oracle flex cluster configuration without higher oracle r enterprise client scan create user oracle clusterware standard cluster configuration created finished running generic part show con_id con_id sql default 1 ): first sector existing oracle clusterware standard cluster must enable oracle flex asm done ~]# oracleasm createdisk asmdisk2 default 2 ): first sector 121 oracle user 50 cst149 ~]$ asmcmd asmcmd auto pmon ~]$ ~]$ sqlplus c ## ohsdba resource create oracle user groupadd default 3 ): first sector storage 57 62 note alter session set container 64 ~]# 2934 install oracle unbreakable enterprise kernel 3 ohsdba mounted sql mgmtdb _mgmtdb ]$ cd localdomain4 :: 1 localhost localhost later red hat compatible kernel nodes execute root oracle database release 12 asmnet1lsnr_asm ~]$ srvctl stop asm storage execute fixup script 102 107 create oracle r enterprise server pl shutdown prod1 ~]$ shutdown version production start date 11 starting oracle cluster ready services moidfy initiate parameters 64 oracle linux 7 standard oracle grid infrastructure nodes command completed successfully ~]$ cdb 64 oracle grid infrastructure installed --> processing dependency _mgmtdb ]$ ls i_1 prod change ip address using srvctl modify asm command prod database unique name launch oracle universal installer starting oracle database 12c 3 ohsdba read write devel x86_ el7uek oel /"^#[[: space :]]*$ comment "/ installing ... 1 pdb operations open pdb ]# packages ]# ls shutdown immediate pluggable database closed prod1 ~]# ~]# cd starting oracle high availability services dictionary word retype new password c ## ohsdba ora 134139 listener log file oracle flex cluster configuration 512 bytes disk label type user root root 141146 sql word png txt jpg size errors warnings normal info debug help ): n partition type get reppath chm repository path 2 cpe os name oracle clusterware standard cluster 17 jan 10 20 oracle 12c database instance mon jan 11 13 cannot create local user ~]# passwd orgrid changing password cmd -- state already exists user oracle already exists adding group dba groupadd oracle linux server 7 prod1 ", status ready description =( address =( protocol ~]$ srvctl config asm 27 sec trace level oracle asm library driver oracleasm enable please run root script conf disable firewall3 install help 9297 asmcmd starts asmcmd user ignored prerequisites similar documents 2019 © technodocbox 19 jan 10 20 v option prints extra information configure oracle grid infrastructure prod '; system altered bin ... alter system set parallel_max_servers alter system set open_cursors help advanced users diagnose problems prod1 ~]# ~]# fdisk 121 sys oracle 00 ora_pmon_prod2 root 00 ora_pmon_prod1 root packages ]# oracleasm configure disable firewall ~]# firewall auto pmon ~]# su specific root actions using configuration parameter file get oracle software prod create partitions ~]# shared disk setting command synopsis asmcmd [- v prod1 ~]$ asmcmd asmcmd disk group systemdg created successfully nokey preparing ... ################################# preinstall ]# diff oracle service ... service oracle grid infrastructure nodes monitor oracle data guard flex asm operations mgmtdb ]$ sql 18 jan 10 20 3 cluster asm listener prod shared disk setting host desktop ]# su oracle cluster ready services asm connected sql root sql fri jan 15 10 auto pmon ~]$ ps listener alias listener version tnslsnr fri jan 15 21 located 1 voting disk jan results ]# configure flex mode enabled asmcmd bin ]: copying dbhome asmcmd alert log shows pdb sysdba ~]$ sqlplus sdb1 4g shared mgmtdb mgmtdb ~]$ oclumon manage database instance using asm thu jan 7 10 ==== authentication complete === ~]$ packages ]# install network parameters passed taking cvu_ _orgrid ]# pwd unbreakable enterprise kernel oracle high availability services 2 set datetime oracleasm ": oracleasm configuring red hat kernel el7 oracle flex asm oracle flex cluster service pack 3 tcp )( host =)( port sat jan 16 00 boot parameters passed trying 57 sec trace level log user data g asmdba ~]# groupadd ef grep pmon oracle automatic storage management options sql sdb3 writing disk header 14 cst 2016 ora listener log file ~]# create directory 8893 listener parameter file 00 grep -- color local bin directory management 8792 pdb name 24 29 run 12cr1 grant privileges grant resource config asm install prod convert standard asm vip prod2 prod2 prod database name oracle linux 6 files grep firewall firewalld 1 ~]$ sqlplus specify must already exist ohs rows selected 12 brd ff physical ): 512 bytes oracle linux 7 example name data g asmadmin ~]# groupadd dba_data_files union select member file_name mon jan 11 20 g dba ~]# groupadd ohsgi read write sql oracle grid infrastructure local os authentication snmp alter system relocate client ~]# ssh prod2 512 bytes sector size oracle asm disks access control disabled 44 cst 2016 ~]$ systemctl poweroff ~]$ asmcmd lsct prod1 ~]# ps mon jan 11 11 checking temp space data mount point paths _mgmtdb database name mgmtdb status steps exit disconnected asmoper orgrid ~]# usermod rac start concurrency help ): p disk oratab file ... cvu_ _orgrid ]#./ runfixup transcription 1 step 3072m 0 0 make sure current container prod2 ~]# ps verify oracle sh vmwaretools tar 12c database instance prod2 ~]# cat real application clusters authentication tokens updated successfully 1521 )) status require direct access r -- r --. distrib ]# vmware least 5g disk space ie asm network ). access asm cannot direct access ]# ls public conf original file backed sdb1 writing disk header rows selected sql server parameter file g oinstall ~]# groupmod oracle last login systemctl enable oracleasm storing cluster health monitor recovery related administrative privileges dictionary check log file "/ orgrid name _mgmtdb sql oracle data guard 8g partition 2 stdin info :... genericinternalplugin oui_internal info :... genericinternalplugin [-- discover ][] description 31 cst 2016 never already present verifying alter database open oracle asm configuration ff 34 39 inet include new information asm connected advanced analytics options sql root 100 %] updating shared storage difference sysdba open pdb show pdbs minimum levels service ... rw orgrid asmadmin 8 size 8 gib ef grep pmon orgrid asm instances running sdb2 writing disk header package information md_restore amdu_extract 9398 lsattr datacachepagesize =" 4096 optimal ): 512 bytes nodes execute orainstroot login session required pam_limits bin ]: oracle database instance 4g partition 1 prod copy prod1 65 new database instance sysdba ~]$ sqlplus prod oracle home run grid infrastructure disk group 2 vmware operating system supported operating system versions cluster mode changing recognized partition table building prod create com icon name oracle database releases setting kernel parameters localdomain prod1 prod1 always check 36 cst 2016 121 mkdir asmcmd version number g :\ 12c please retry operation create tablespace open stop options l grep sdb disk prod modify hostname listener parameter file role name sql 121 oracle_base 121 enter el7uek dependency installed ]# cp public new asm instance log adding group oinstall database administrative privileges prod2 copy prod1 stable ora alter pluggable database oracle asm compatibility ]# cat public nodes ~]# cd cluster ready services higher update 4 oracle cluster registry doc id ). install vmware hosts ~]# cat group cannot directly connect host different types 121 chown prod operations -- privilege option 1 mb 00 listener ))) status group_ rows selected crsconfig_params 7883 2016 prod2 modify hostname operating system users oracle database product actual passed preparing asmcmd [+ data user oracle oracle user oracle 12c ohsgi cluster name com transient hostname -- inst option succeeded asm created oracle clusterware oracleasm unloading module initiate parameters l grep oracle asm2 oracle patch set information 4096 kernel distrib ]#./ vmware direct access immediate database role preinstall package invalid common user server prod1 crs 0 ~]$ cd 30 kernel one pdb name 2 installing force ~]$ ps asmnet1lsnr_asm ~]$ ps leaf nodes hub nodes address =( protocol total download size adding clusterware entries stabl e ora server prod2 crs size 4 gib ohsgi pdb service database configuration assistant total 50 mb pluggable database altered orgrid last login db user flex asm default user ]# vi public already present uid windows 7 ultimate device check 42 47 scsi1 pdb user vip prod1 ~]$ oclumon manage type linux sysaux data ohs data run database instance default value 121 managed resources crs disk identifier 0x25952bb8 showclustermode asm cluster password reboot config asm oracleasmlib name data disk discovery path existing asm instance old config files tightly connected 2 installed done instantiating disk bak 542c542 ${ sed get master master prod1 )( port 32 brd ff g asmdba groupadd com prod1 18 oracle info :... genericinternalplugin general information relating 26 asmdisk1 brw 145 150 3 ohsdba password oracle database eno oracle code examples 72 starting read loop read partition table asmca also informs least one hub node new dos disklabel d2278f3d01074f8c86a072d31337d1e9 boot id 5b9c4aeee63e4dcdb81da60a7a913c57 boot id example data convert standard asm com prod2 ohsgi database instance system data operating sytem users virbr0 removed symlink installation olr initialization col grantee bin users data 1 yum 26 asmdisk2 brw packages ]# orapwasm asm listener server running cluster member nodes help ): w prod2 database local user 2 verifying asm instance count particular asm instance systemctl poweroff cvu_ _orgrid prod1 asm com privacy policy cluster mode specific asm instance must create xdb_wallet ))( presentation crsconfig_params 2016 access automatic server pools ~]# cd open pdb user created tcp )( host asm instance must sdb linux command automatic type g asmadmin groupadd asm instance fails prod2 asm processing resource auto hosts localhost localhost spfile password file prod2 configured nodes showclusterstate normal asmcmd operation mgmtdb invalid option cd file :/// run name sql new password key id ec551f03 sles 11 sp2 installed size already present transparent_hugepage install oracleasmlib grant connect verify succeeded 7479 crs sessions === authentication microsoft windows xp han 2016 g asmoper useradd ether 52 crsctl stat res col granted_role conf vmware 1 instance already running 24 oracle v option prints user orgrid p option allows ~]$ ps started successfully qlen 1000 link specific asmcmd command asm instance failure 1 00 hostname prod2 32 vmware 28 brd ff connected grant succeeded detail asm home use asm asmoper orgrid usermod default ): loopback 00 vm machine id last login login configure 00 brd 00 px start display p oracle user must version production ]# yum x86_64 1 shm tmpfs defaults managed resources dos disk identifier 2 00 nodes ~]# linux x86 sysaux systemdg please obey tcps )( host 22 pts qlen 500 link os versions leaf node servers leaf nodes must mgmtdb orgrid change permissions configure 94c written yum sysasm sql certification shared disk x86_64 2 sysdba privilege ). 11 11 node prod1 server kernel 12 sh ~]# ~]# groupmod two possibilities sysasm sysdba hitting without typing maxunsyncedwrites =" 0 datacacheminreadaheadsize =" 0 datacachemaxsize =" 0 datacachemaxreadaheadsize =" 0 automatic storage management open instances rpm 23 28 1 primary 2 fs current value database instances pl vmware select tablespace_name completed successfully sysdba sql header v3 rsa preinstall config well leaf nodes leaf nodes independent locking =" false [- p line 1 1 handler unix group names storage level cannot ctf el7 tablespace created bequeath connection 2 primary c ##, encyption key management encryption key management select con_id standard asm ~]# useradd user wants starting shutdown 5 min 5 gb sh vmware oracleasmlib el7 ################################# instance name http )( session system systemdg 4510u 2 2 free r oracle 1 net ~]# fdisk database instance select username biggest difference config configure sh changing permissions voting disk total 0 brw password file conf configure least 256 colors voting file ipc )( key completed 7580 crs asm1 oracle linux x linux versions oracleasm el7 2 net oracle home 00 ora_pmon_prod2 orgrid 00 ora_pmon_prod1 orgrid package localdomain localhost6 localhost6 localdomain localhost4 localhost4 handleprocess () entered deploy fusion middleware create calling ioctl () 54 clsrsc 2016 execute permissions 3 free listener asm write command database altered ivh oracleasmlib el7 cannot choose shared storage dba osoper group e extended select start options asm instance first time group id prod1 crs oinstall ), 54322 oinstall ), 20001 select instance_name [- v still running dependencies 570c570 ${ sed 53 use oracle_sid oracle oracle_home ]# pwd adding read primary management policy unless explicitly granted priv prod k 17 select name syskm privilege ). sysdg privilege ). sysbackup privilege ). install online oracle spfile col instance_name current mode prod2 crs help asmcmd 56 copyright oel72 baseurl 40 clsrsc 256g os preinstall el7 including cookie policy environment variables oracle_home 1b64f5c2b af7332efc219c13b virtualization system altered enabled database mount offline current values 3035 100 cannot see prod1 scsi1 priv prod1 disk group operations usual name syncing disks type disabled configure 1521 ))) database operators database administrators berkley database jan verifying detail asm 18 pts succeeded crs following environment variables ecdsa key fingerprint 43 clsrsc sh password instance asmcmd sdb linux release production change permissions mkdir privileges granted gz vmware write permissions instantiating disk disk path asm2 21 clsrsc linux ). completed start resource auto prod2 scsi1 priv prod2 19 leaf nodes size 100m 21 pts least 3g memory 1 downloading packages specify sdb2 8g get help 20 clsrsc name used connection 15 set command g asmadmin c pdbs ohsdba cvu_ _oracle database backup linux el7uek windows x shm tmpfs partition table first option exits immediately devel loaded plugins contain 14 orgrid configure pdbname cluster cluster via sysoper privilege ). g dba 2 unknown command mgmtdb password fails ff inet status alert 64 bak yum server crash different server listener ))) vip conf fs p orgrid default cardinality asm clients release el7 stop concurrency shutdown spbackup orapwd files nic lsct lo file_name systemdg db_name a20 sql a15 sql [-- nocp 9 54 45 clsrsc 39 min 142147 sql 139144 sql 12cr1 g oinstall cluster based 3 oratab file step 23 pts bad password 4 free 7 tools seed read script removing read done cleaning 50 details specific 58 clsrsc data 26 clsrsc running volstat asmcmd asmcmd establishes asmcmd connects rpm yum minimum 512 bytes advanced analytics ora ls cannot run 00 inet hub node checking secretarguments 2833 configure grid 24 oraclelinux 24 kmod prod ons installing group_ systemdg disk automatically "" disk )( port lsaudconfigparams cd orabackup verifying n ]: p primary installer pdf log 0 00 orapwd file oracle vmware oel72 ctf 47 private cdb 500 mb 25 clsrsc 150 mb config selinux tmp tablespace limited set general release group must changing permissions prod1 mode completed crs boot properties 18 25 pts name x86_64 0 disks session altered database requirement setting hub nodes undotbs systemdg r --. lsnr grid_base mkdir etc e expression disk groups cpe :/ choose another node 10 el7 complete repo yum oracleasmlib el7 support changing r orgrid parameters changing groupname 21 repo public prod2 0 extended oracleasm grid_base grid_home connect 415 mb size driver previous release least 3g orainstroot note createasclone true separate group osoper group oskmdba group osdgdba group osbackupdba group osasm group asm1 orgrid using 20 write _mgmtdb asm txt run_upgrader individually disabled dg 200 0 primary service cluster current directory enabled instance nodes arranged 0 enabled privileges default limits system following command command prompt command ]" select file_name x86 ordb chown support el7 logos el7 grant 0 robin users sysasm privacy policy known hosts gid groupadd firewalld [-- privilege server release notes oracle_sid determine info osdba group optional group orgrid oracle_home use linux ether 00 00 mdb_pmon_ 00 asm_pmon_ 11 target sql shutdown preinstall passwd often updated later download asmdisk3 asmadmin oracleasm_scanboot [-- inst ==== authenticating 45 23 ${ limitsfile kernel orgrid spfile devel el7uek log 09 pts password 4 x86_64 architecture sdb welcome read link network sysoper privilege sysdba services including virtualization asmdisk1 58 57 01 mdb_pmon_ 01 asm_pmon_ config 26 gns ). asmcmd started cp compatible conf asmdba configure sqlplus 7782 crs 7681 crs setting 24 must ensure must allocate vm chassis stop starting specifies one showclusterstate showpatches share security libdtrace init distrib disk bit 28 clsrsc cd orgrid oracleasm_gid 32 oinstall oracleasm_scanboot file 28 pts supported kernels number yum start product oracle_home mkalias mkdir host g bd380cc85f1d4ec684751a5d4acd934a virtualization asmdisk2 41dc52a7a6af4d7abd539eb8348defbf virtualization 25 set p individually enabled copying oraenv copying coraenv public boot rpm warning must agree zone delegation volinfo volresize umount pwcopy systemdg startup chtmpl spoke architecture skipping line showversion mapau sha256 signature setattr audcleanaudittrail rpusr volcreate rmtmpl chgrp rights reserved registration search pwset afd_configure program connects oc4j node mapextent chdg lsusr mkgrp lsaudcleanevents lsaudcleanupjobs loosely coupled l known issues getting configassistantparmas full pathname following significance following questions following kernels fd9bd2b fe043b6a9e80abc28 false details cvu creating createpdbfrom rmanbackup closing inhibitors brackets ('[]'). binary compatibiliy audsettimestamp audsettraillocation audsetdebug audsetjobinterval audcleartimestamp audcreatejob afd_state afd_unlabel afd_dsset afd_filter 8gb cpu 41 clsrsc 291af2a8af2ea86ae a981f 00ghz ssd changing ff local present run grid_base release option uek r3 uek r2 determine whether cardinality defined true ordb help 29 group jan completed website work stopoption abort sectors units pwdprod domain permanently added oracle_sid open_mode following commands dbid datafile continue connecting con_uid click next [/ usr 08 clsrsc 02 nodes listener change command display bytes 512 36 el7 instance 0 v dba yes warning 06 copyright storage sh 00 xml tnslsnr sure similar r part member make list higher core chm asmnet1lsnr_asm 09 orgrid altered x86_64 sdb resource ohsgi asm1 01 oinstall ). sed n convert complete hub crs must storing rw runfixup required one fs directly devel dbhome configuring rpm el7uek supported select pwd fdisk permissions enabled well updating sysoper spfile showclustermode servers scsi1 product osoper memory locking loaded independent following failure entries ecdsa different configured pts warning uek repo oracleasm_scanboot net determine copyright chown cardinality yes website wants usr used selinux sectors requirement pdf osdba oraenv oracleasm_gid optional notes gz groups gid domain coraenv connecting commands clients click based backup authenticating agree added abort 08 06 world wmem_max wmem_default weblogic want volset volenable voldisable voldelete vmdk virtualdev vd var util users01 usage us upstart upgrader unspecified unit uninstall undotbs02 undotbs01 typically tm three thinprint tfa terms templates systemd system145 system01 sysctl sysconfig sysaux01 succeded stored stopped sshd spset spmove spget specifying spcopy sourcedb silent shown shmmni shmmax shmall sem seat0 sdisk sd scan1 rp_filter rmusr rmgrp rmem_max rmem_default rmcc rmalias rm repos rename remap remain redo reconnect rebal rdbms pwmove pwget pwdelete pwcreate provisioned prodxdb processors powering power pm plus platform persistent performed pdbmetadatafile pdbbackupfile pass partitioning parameterfile panic_on_oops pam page overwrite org orcl orapwusr orainventory orainstall oracle_owner optionally oper onlinelog olap ol7 ol ok ohasd oel7 ocr nr noarch net1 needed need multiple modified mnt mkusr mktmpl mkdg mkcc mif mgmtseed_pdb met members media means mdnsd md_backup may max matching many manner maintain lstmpl lspwusr lsop lsof lsod lsilogic lsgrp lsdsk lsdg lost look login1 logical logging logged logfile listener_scan1 linked limitations like language langpacks kmdba keep job ipv4 ip_local_port_range iostat interoperability internalskipgihomecheck intel includes i7 however hgfs haip h grpmod greater gpnpd gpgcheck gipcd functionality freedesktop fix firewalld1 find filename feedback fedoraproject features fe7e fd9b43bf6a646f8ce043b6a9e80a2815 fd9ac20f64d244d7e043b6a9e80a2f2f expected execution executes evmd established error e5 du dsset dsget dropdg displayed diskmon disklib dir diag dgdba dfb df devicetype dev depend decide dbus dbf dba_users dba_tablespaces dba_role_privs ctssd ctrl cssdmonitor cssd crsd crf createpluggabledatabase course conversion controlfile contents computer come collector cluster_interconnect chmod chkdg chapter changes changed cfgtoollogs careful c032 c028 c0 brought begin bc basic bash backupdba available authenticity audshowtimestamp audsetproperty audsetjobstatus audloaduniauditfiles auddropjob audclearproperty attempting assistants asm_client arguments applications answer alternatively along aio afd_scan afd_lsdsk afd_label afd_dsget afd_deconfigure advm administer admin acfs 7e 7a 7378 65096 6024 6023 6017 6016 5l 54321 4266 4256 4133 4123 4002 4001 3e 3c 363 343 330 33 325 2d 29ff 2793 2792 2791 2790 2677 2676 2673 2672 2664 2014 20000 1991 1982 12c_rac 12102 11gr2 11g 0c )? )' '.

















{
  "vendors": [
    "oracle",
    "microsoft",
    "intel"
  ],
  "device_types": [],
  "products": [
    "el7.x86",
    "x86",
    "rac-12c",
    "profile1",
    "virbr0",
    "sh4",
    "x86",
    "el7",
    "oel72",
    "prod1",
    "welcome1",
    "asm2",
    "prod2",
    "x86",
    "b0da9e9e5af4fb7bf691418fcd22010",
    "undotbs1",
    "undotbs2",
    "restricted142",
    "cr1",
    "sdb3",
    "x25952bb8",
    "oc4j",
    "asmdisk1",
    "asmdisk2",
    "asmdisk3",
    "value45",
    "b0da9e9e5af4fb7bf691418fcd",
    "v1",
    "inet6",
    "server38",
    "asm1",
    "fe80",
    "cst149",
    "localdomain4",
    "asmnet1lsnr",
    "el7uek",
    "firewall3",
    "prod2",
    "prod1",
    "sdb1",
    "sdb2",
    "scsi1",
    "c542",
    "d2278f3d01074f8c86a072d31337d1e9",
    "b9c4aeee63e4dcdb81da60a7a913c57",
    "ec551f03",
    "sp2",
    "v3",
    "localhost6",
    "localhost4",
    "c570",
    "b64f5c2b",
    "af7332efc219c13b",
    "a20",
    "a15",
    "bd380cc85f1d4ec684751a5d4acd934a",
    "dc52a7a6af4d7abd539eb8348defbf",
    "sha256",
    "fd9bd2b",
    "fe043b6a9e80abc28",
    "af2a8af2ea86ae",
    "a981f",
    "r3",
    "r2",
    "users01",
    "undotbs02",
    "undotbs01",
    "system145",
    "system01",
    "sysaux01",
    "seat0",
    "scan1",
    "ol7",
    "oel7",
    "net1",
    "login1",
    "scan1",
    "ipv4",
    "i7",
    "firewalld1",
    "fe7e",
    "fd9b43bf6a646f8ce043b6a9e80a2815",
    "fd9ac20f64d244d7e043b6a9e80a2f2f",
    "e5",
    "c032",
    "c028",
    "c0",
    "gr2"
  ]
}



































